*** Begin Patch
*** Update File: apps/backend/main.py
@@
-    async def rag_query(payload: Query):
-        try: return retriever.query(payload.question)
+    async def rag_query(payload: Query) -> dict:
+        """
+        Handle a RAG query. Returns answer and source metadata,
+        or raises HTTPException on failure.
+        """
+        try:
+            return retriever.query(payload.question)
+        except Exception as e:
+            raise HTTPException(status_code=500, detail=str(e))

*** End Patch
