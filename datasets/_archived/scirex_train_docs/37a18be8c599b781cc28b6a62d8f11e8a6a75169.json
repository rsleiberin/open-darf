{"coref": {"BRATS_2018": [[427, 431], [2058, 2062]], "Brain_Tumor_Segmentation": [[2, 7], [10, 15], [68, 71], [126, 129], [308, 314], [383, 388], [389, 390], [404, 408], [633, 638], [646, 649], [699, 700], [730, 732], [748, 750], [938, 940], [1973, 1974], [2168, 2169], [2365, 2368], [2475, 2478], [2486, 2489], [2600, 2602], [2622, 2624], [2137, 2138], [2172, 2173], [2259, 2260], [2722, 2723]], "Dice_Score": [[1036, 1039], [1706, 1708], [1759, 1762], [1829, 1830], [2178, 2181], [2280, 2282], [2734, 2735]], "NVDLMED": [[2289, 2290]]}, "coref_non_salient": {"0": [[932, 934], [2444, 2446]], "1": [[369, 371], [1965, 1966], [2714, 2716]], "10": [[2056, 2057], [2383, 2384]], "11": [[226, 229], [230, 231], [252, 253], [305, 306], [412, 413], [446, 447], [488, 489], [2102, 2103]], "12": [[1176, 1177], [1593, 1595], [2126, 2127]], "13": [[1510, 1512]], "14": [[2591, 2596]], "15": [[2718, 2720]], "16": [[2736, 2739]], "17": [[1398, 1399], [2520, 2521]], "18": [[629, 632], [1231, 1233]], "19": [[2199, 2202]], "2": [[168, 171], [208, 211], [238, 246]], "20": [[2570, 2573]], "21": [[2385, 2390], [2051, 2056]], "22": [[751, 752], [771, 772], [786, 787]], "23": [[2182, 2183]], "24": [[1928, 1930]], "25": [[686, 687], [1318, 1319], [1598, 1599], [1681, 1682], [1770, 1771], [1781, 1782], [1831, 1832], [2685, 2686]], "26": [[2603, 2604]], "27": [[1060, 1066]], "28": [[1391, 1393]], "29": [[2566, 2569]], "3": [[1276, 1280], [1286, 1290]], "30": [[2561, 2564]], "31": [[1514, 1515]], "32": [[2659, 2660]], "33": [[1384, 1385]], "34": [[1911, 1914]], "35": [[2493, 2495]], "36": [[2203, 2204], [2307, 2308]], "37": [[1073, 1075], [1696, 1698]], "38": [[64, 67], [2471, 2474]], "39": [[1937, 1939]], "4": [[1640, 1642], [1795, 1797]], "40": [[1845, 1847]], "41": [[2184, 2185]], "42": [[1490, 1492]], "43": [[893, 895], [1055, 1057]], "44": [[1370, 1371], [1444, 1445], [1587, 1588], [1956, 1957]], "45": [[1209, 1210]], "46": [[2575, 2578]], "47": [[833, 836]], "48": [[1908, 1909]], "49": [[1419, 1421]], "5": [[672, 674], [889, 891], [1244, 1245], [1252, 1253], [1299, 1301], [1358, 1360], [1662, 1663], [1677, 1678]], "50": [[766, 767]], "51": [[2046, 2047]], "52": [[1378, 1382]], "53": [[619, 621]], "54": [[333, 338]], "55": [[72, 74]], "56": [[829, 830]], "57": [[27, 37]], "58": [[779, 782]], "59": [[788, 796]], "6": [[1313, 1317], [90, 94]], "60": [[1538, 1541]], "61": [[1440, 1442]], "62": [[2335, 2336]], "63": [[561, 562]], "64": [[1128, 1130]], "65": [[1842, 1843]], "66": [[344, 347]], "67": [[348, 351]], "68": [[293, 295]], "69": [[1077, 1083]], "7": [[108, 110], [705, 707], [1203, 1205], [2691, 2693]], "70": [[905, 908]], "71": [[297, 298]], "72": [[223, 225]], "73": [[38, 41]], "74": [[1790, 1793]], "75": [[340, 343]], "76": [[1849, 1851]], "77": [[1970, 1972]], "78": [[8, 10]], "79": [[200, 203]], "8": [[76, 80], [1234, 1240]], "80": [[1801, 1804]], "81": [[1047, 1049]], "82": [[820, 826]], "83": [[1374, 1375]], "84": [[799, 801]], "85": [[1437, 1438]], "86": [[715, 720]], "87": [[2186, 2188]], "88": [[653, 659]], "89": [[2412, 2417]], "9": [[1372, 1373], [1388, 1390]], "90": [[352, 354]], "91": [[661, 664]], "92": [[898, 900]], "93": [[984, 989]], "94": [[768, 770]], "95": [[683, 685]], "96": [[326, 330]], "97": [[1741, 1743]], "98": [[1528, 1530]]}, "doc_id": "37a18be8c599b781cc28b6a62d8f11e8a6a75169", "method_subrelations": {"NVDLMED": [[[0, 7], "NVDLMED"]]}, "n_ary_relations": [{"Material": "BRATS_2018", "Method": "NVDLMED", "Metric": "Dice_Score", "Task": "Brain_Tumor_Segmentation", "score": "0.87049"}], "ner": [[2, 7, "Task"], [8, 10, "Method"], [10, 15, "Task"], [27, 37, "Task"], [38, 41, "Method"], [64, 67, "Method"], [68, 71, "Task"], [72, 74, "Task"], [76, 80, "Method"], [108, 110, "Method"], [126, 129, "Task"], [168, 171, "Task"], [200, 203, "Task"], [208, 211, "Task"], [223, 225, "Metric"], [226, 229, "Method"], [230, 231, "Method"], [238, 246, "Task"], [293, 295, "Method"], [297, 298, "Method"], [308, 314, "Task"], [326, 330, "Task"], [333, 338, "Method"], [340, 343, "Method"], [344, 347, "Task"], [348, 351, "Method"], [352, 354, "Method"], [369, 371, "Metric"], [383, 388, "Task"], [389, 390, "Task"], [404, 408, "Task"], [427, 431, "Material"], [561, 562, "Task"], [619, 621, "Metric"], [629, 632, "Method"], [633, 638, "Task"], [646, 649, "Task"], [653, 659, "Method"], [661, 664, "Method"], [672, 674, "Method"], [683, 685, "Method"], [686, 687, "Method"], [699, 700, "Task"], [705, 707, "Method"], [715, 720, "Method"], [730, 732, "Task"], [748, 750, "Task"], [751, 752, "Method"], [766, 767, "Task"], [768, 770, "Method"], [771, 772, "Method"], [779, 782, "Method"], [786, 787, "Method"], [788, 796, "Method"], [799, 801, "Method"], [820, 826, "Method"], [829, 830, "Metric"], [833, 836, "Task"], [889, 891, "Method"], [893, 895, "Method"], [898, 900, "Method"], [905, 908, "Method"], [932, 934, "Metric"], [938, 940, "Task"], [984, 989, "Method"], [1036, 1039, "Metric"], [1047, 1049, "Method"], [1055, 1057, "Method"], [1060, 1066, "Method"], [1073, 1075, "Method"], [1077, 1083, "Method"], [1128, 1130, "Method"], [1176, 1177, "Method"], [1203, 1205, "Method"], [1209, 1210, "Task"], [1231, 1233, "Method"], [1234, 1240, "Method"], [1244, 1245, "Method"], [1252, 1253, "Method"], [1276, 1280, "Method"], [1286, 1290, "Method"], [1299, 1301, "Method"], [1313, 1317, "Method"], [1318, 1319, "Method"], [1358, 1360, "Method"], [1370, 1371, "Method"], [1372, 1373, "Method"], [1374, 1375, "Method"], [1378, 1382, "Method"], [1384, 1385, "Task"], [1388, 1390, "Method"], [1391, 1393, "Method"], [1398, 1399, "Method"], [1419, 1421, "Method"], [1437, 1438, "Task"], [1440, 1442, "Method"], [1444, 1445, "Method"], [1490, 1492, "Method"], [1510, 1512, "Method"], [1514, 1515, "Method"], [1528, 1530, "Method"], [1538, 1541, "Method"], [1587, 1588, "Method"], [1593, 1595, "Method"], [1640, 1642, "Method"], [1662, 1663, "Method"], [1677, 1678, "Method"], [1696, 1698, "Method"], [1706, 1708, "Metric"], [1741, 1743, "Method"], [1759, 1762, "Metric"], [1790, 1793, "Method"], [1795, 1797, "Method"], [1801, 1804, "Method"], [1829, 1830, "Metric"], [1842, 1843, "Task"], [1845, 1847, "Method"], [1849, 1851, "Metric"], [1908, 1909, "Task"], [1911, 1914, "Method"], [1928, 1930, "Method"], [1937, 1939, "Method"], [1956, 1957, "Method"], [1965, 1966, "Metric"], [1970, 1972, "Task"], [1973, 1974, "Task"], [2046, 2047, "Method"], [2056, 2057, "Method"], [2058, 2062, "Material"], [2126, 2127, "Method"], [2168, 2169, "Task"], [2178, 2181, "Metric"], [2182, 2183, "Metric"], [2184, 2185, "Metric"], [2186, 2188, "Metric"], [2199, 2202, "Method"], [2203, 2204, "Method"], [2280, 2282, "Metric"], [2289, 2290, "Method"], [2307, 2308, "Method"], [2335, 2336, "Method"], [2365, 2368, "Task"], [2383, 2384, "Method"], [2385, 2390, "Method"], [2412, 2417, "Method"], [2444, 2446, "Metric"], [2471, 2474, "Method"], [2475, 2478, "Task"], [2486, 2489, "Task"], [2493, 2495, "Method"], [2520, 2521, "Method"], [2561, 2564, "Method"], [2566, 2569, "Method"], [2570, 2573, "Method"], [2575, 2578, "Method"], [2591, 2596, "Method"], [2600, 2602, "Task"], [2603, 2604, "Method"], [2622, 2624, "Task"], [2659, 2660, "Method"], [2691, 2693, "Method"], [2714, 2716, "Metric"], [2718, 2720, "Method"], [2734, 2735, "Metric"], [2736, 2739, "Metric"], [90, 94, "Method"], [252, 253, "Method"], [305, 306, "Method"], [412, 413, "Method"], [446, 447, "Method"], [488, 489, "Method"], [1598, 1599, "Method"], [1681, 1682, "Method"], [1770, 1771, "Method"], [1781, 1782, "Method"], [1831, 1832, "Method"], [2051, 2056, "Method"], [2102, 2103, "Method"], [2137, 2138, "Task"], [2172, 2173, "Task"], [2259, 2260, "Task"], [2685, 2686, "Method"], [2722, 2723, "Task"]], "sections": [[0, 130], [130, 723], [723, 1227], [1227, 1353], [1353, 1485], [1485, 1596], [1596, 1692], [1692, 1840], [1840, 1906], [1906, 1968], [1968, 2038], [2038, 2459], [2459, 2748], [2748, 2751]], "sentences": [[0, 10], [10, 38], [38, 59], [59, 81], [81, 118], [118, 130], [130, 133], [133, 144], [144, 163], [163, 181], [181, 200], [200, 226], [226, 247], [247, 290], [290, 308], [308, 331], [331, 348], [348, 383], [383, 424], [424, 471], [471, 478], [478, 491], [491, 515], [515, 550], [550, 565], [565, 582], [582, 599], [599, 622], [622, 650], [650, 679], [679, 708], [708, 723], [723, 727], [727, 771], [771, 783], [783, 802], [802, 820], [820, 837], [837, 841], [841, 878], [878, 901], [901, 935], [935, 956], [956, 977], [977, 1001], [1001, 1016], [1016, 1041], [1041, 1067], [1067, 1090], [1090, 1131], [1131, 1165], [1165, 1193], [1193, 1211], [1211, 1227], [1227, 1230], [1230, 1259], [1259, 1281], [1281, 1310], [1310, 1333], [1333, 1353], [1353, 1357], [1357, 1383], [1383, 1415], [1415, 1436], [1436, 1443], [1443, 1456], [1456, 1474], [1474, 1485], [1485, 1489], [1489, 1509], [1509, 1556], [1556, 1596], [1596, 1600], [1600, 1632], [1632, 1680], [1680, 1692], [1692, 1695], [1695, 1736], [1736, 1764], [1764, 1814], [1814, 1840], [1840, 1843], [1843, 1879], [1879, 1906], [1906, 1909], [1909, 1924], [1924, 1940], [1940, 1968], [1968, 1974], [1974, 1996], [1996, 2020], [2020, 2038], [2038, 2041], [2041, 2052], [2052, 2054], [2054, 2074], [2074, 2097], [2097, 2113], [2113, 2129], [2129, 2153], [2153, 2165], [2165, 2189], [2189, 2227], [2227, 2247], [2247, 2264], [2264, 2306], [2306, 2337], [2337, 2349], [2349, 2369], [2369, 2373], [2373, 2394], [2394, 2404], [2404, 2443], [2443, 2459], [2459, 2464], [2464, 2490], [2490, 2503], [2503, 2554], [2554, 2587], [2587, 2628], [2628, 2657], [2657, 2660], [2660, 2662], [2662, 2665], [2665, 2681], [2681, 2721], [2721, 2748], [2748, 2751]], "words": ["document", ":", "3D", "MRI", "brain", "tumor", "segmentation", "using", "autoencoder", "regularization", "Automated", "segmentation", "of", "brain", "tumors", "from", "3D", "magnetic", "resonance", "images", "(", "MRIs", ")", "is", "necessary", "for", "the", "diagnosis", ",", "monitoring", ",", "and", "treatment", "planning", "of", "the", "disease", ".", "Manual", "delineation", "practices", "require", "anatomical", "knowledge", ",", "are", "expensive", ",", "time", "consuming", "and", "can", "be", "inaccurate", "due", "to", "human", "error", ".", "Here", ",", "we", "describe", "a", "semantic", "segmentation", "network", "for", "tumor", "subregion", "segmentation", "from", "3D", "MRIs", "based", "on", "encoder", "-", "decoder", "architecture", ".", "Due", "to", "a", "limited", "training", "dataset", "size", ",", "a", "variational", "auto", "-", "encoder", "branch", "is", "added", "to", "reconstruct", "the", "input", "image", "itself", "in", "order", "to", "regularize", "the", "shared", "decoder", "and", "impose", "additional", "constraints", "on", "its", "layers", ".", "The", "current", "approach", "won", "1st", "place", "in", "the", "BraTS", "2018", "challenge", ".", "section", ":", "Introduction", "Brain", "tumors", "are", "categorized", "into", "primary", "and", "secondary", "tumor", "types", ".", "Primary", "brain", "tumors", "originate", "from", "brain", "cells", ",", "whereas", "secondary", "tumors", "metastasize", "into", "the", "brain", "from", "other", "organs", ".", "The", "most", "common", "type", "of", "primary", "brain", "tumors", "are", "gliomas", ",", "which", "arise", "from", "brain", "glial", "cells", ".", "Gliomas", "can", "be", "of", "low", "-", "grade", "(", "LGG", ")", "and", "high", "-", "grade", "(", "HGG", ")", "subtypes", ".", "High", "grade", "gliomas", "are", "an", "aggressive", "type", "of", "malignant", "brain", "tumor", "that", "grow", "rapidly", ",", "usually", "require", "surgery", "and", "radiotherapy", "and", "have", "poor", "survival", "prognosis", ".", "Magnetic", "Resonance", "Imaging", "(", "MRI", ")", "is", "a", "key", "diagnostic", "tool", "for", "brain", "tumor", "analysis", ",", "monitoring", "and", "surgery", "planning", ".", "Usually", ",", "several", "complimentary", "3D", "MRI", "modalities", "are", "acquired", "-", "such", "as", "T1", ",", "T1", "with", "contrast", "agent", "(", "T1c", ")", ",", "T2", "and", "Fluid", "Attenuation", "Inversion", "Recover", "(", "FLAIR", ")", "-", "to", "emphasize", "different", "tissue", "properties", "and", "areas", "of", "tumor", "spread", ".", "For", "example", "the", "contrast", "agent", ",", "usually", "gadolinium", ",", "emphasizes", "hyperactive", "tumor", "subregions", "in", "T1c", "MRI", "modality", ".", "Automated", "segmentation", "of", "3D", "brain", "tumors", "can", "save", "physicians", "time", "and", "provide", "an", "accurate", "reproducible", "solution", "for", "further", "tumor", "analysis", "and", "monitoring", ".", "Recently", ",", "deep", "learning", "based", "segmentation", "techniques", "surpassed", "traditional", "computer", "vision", "methods", "for", "dense", "semantic", "segmentation", ".", "Convolutional", "neural", "networks", "(", "CNN", ")", "are", "able", "to", "learn", "from", "examples", "and", "demonstrate", "state", "-", "of", "-", "the", "-", "art", "segmentation", "accuracy", "both", "in", "2D", "natural", "images", "and", "in", "3D", "medical", "image", "modalities", ".", "Multimodal", "Brain", "Tumor", "Segmentation", "Challenge", "(", "BraTS", ")", "aims", "to", "evaluate", "state", "-", "of", "-", "the", "-", "art", "methods", "for", "the", "segmentation", "of", "brain", "tumors", "by", "providing", "a", "3D", "MRI", "dataset", "with", "ground", "truth", "tumor", "segmentation", "labels", "annotated", "by", "physicians", ".", "This", "year", ",", "BraTS", "2018", "training", "dataset", "included", "285", "cases", "(", "210", "HGG", "and", "75", "LGG", ")", ",", "each", "with", "four", "3D", "MRI", "modalities", "(", "T1", ",", "T1c", ",", "T2", "and", "FLAIR", ")", "rigidly", "aligned", ",", "resampled", "to", "1x1x1", "mm", "isotropic", "resolution", "and", "skull", "-", "stripped", ".", "The", "input", "image", "size", "is", "240x240x155", ".", "The", "data", "were", "collected", "from", "19", "institutions", ",", "using", "various", "MRI", "scanners", ".", "Annotations", "include", "3", "tumor", "subregions", ":", "the", "enhancing", "tumor", ",", "the", "peritumoral", "edema", ",", "and", "the", "necrotic", "and", "non", "-", "enhancing", "tumor", "core", ".", "The", "annotations", "were", "combined", "into", "3", "nested", "subregions", ":", "whole", "tumor", "(", "WT", ")", ",", "tumor", "core", "(", "TC", ")", "and", "enhancing", "tumor", "(", "ET", ")", ",", "as", "shown", "in", "Figure", "[", "reference", "]", ".", "Two", "additional", "datasets", "without", "the", "ground", "truth", "labels", "were", "provided", "for", "validation", "and", "testing", ".", "These", "datasets", "required", "participants", "to", "upload", "the", "segmentation", "masks", "to", "the", "organizers", "\u2019", "server", "for", "evaluations", ".", "The", "validation", "dataset", "(", "66", "cases", ")", "allowed", "multiple", "submissions", "and", "was", "designed", "for", "intermediate", "evaluations", ".", "The", "testing", "dataset", "(", "191", "cases", ")", "allowed", "only", "a", "single", "submission", ",", "and", "was", "used", "to", "calculate", "the", "final", "challenge", "ranking", ".", "In", "this", "work", ",", "we", "describe", "our", "semantic", "segmentation", "approach", "for", "volumetric", "3D", "brain", "tumor", "segmentation", "from", "multimodal", "3D", "MRIs", ",", "which", "won", "the", "BraTS", "2018", "challenge", ".", "We", "follow", "the", "encoder", "-", "decoder", "structure", "of", "CNN", ",", "with", "asymmetrically", "large", "encoder", "to", "extract", "deep", "image", "features", ",", "and", "the", "decoder", "part", "reconstructs", "dense", "segmentation", "masks", ".", "We", "also", "add", "the", "variational", "autoencoder", "(", "VAE", ")", "branch", "to", "the", "network", "to", "reconstruct", "the", "input", "images", "jointly", "with", "segmentation", "in", "order", "to", "regularize", "the", "shared", "encoder", ".", "At", "inference", "time", ",", "only", "the", "main", "segmentation", "encode", "-", "decoder", "part", "is", "used", ".", "section", ":", "Related", "work", "Last", "year", ",", "BraTS", "2017", ",", "top", "performing", "submissions", "included", "Kamnitsas", "et", "al", ".", "who", "proposed", "to", "ensemble", "several", "models", "for", "robust", "segmentation", "(", "EMMA", ")", ",", "and", "Wang", "et", "al", ".", "who", "proposed", "to", "segment", "tumor", "subregions", "in", "cascade", "using", "anisotropic", "convolutions", ".", "EMMA", "takes", "advantage", "of", "an", "ensemble", "of", "several", "independently", "trained", "architectures", ".", "In", "particular", ",", "EMMA", "combined", "DeepMedic", ",", "FCN", "and", "U", "-", "net", "models", "and", "ensembled", "their", "segmentation", "predictions", ".", "During", "training", "they", "used", "a", "batch", "size", "of", "8", ",", "and", "a", "crop", "of", "64x64x64", "3D", "patch", ".", "EMMA", "\u2019s", "ensemble", "of", "different", "models", "demonstrated", "a", "good", "generalization", "performance", "winning", "the", "BraTS", "2017", "challenge", ".", "Wang", "et", "al", ".", "second", "place", "paper", "took", "a", "different", "approach", ",", "by", "training", "3", "networks", "for", "each", "tumor", "subregion", "in", "cascade", ",", "with", "each", "subsequent", "network", "taking", "the", "output", "of", "the", "previous", "network", "(", "cropped", ")", "as", "its", "input", ".", "Each", "network", "was", "similar", "in", "structure", "and", "consists", "of", "a", "large", "encoder", "part", "(", "with", "dilated", "convolutions", ")", "and", "a", "basic", "decoder", ".", "They", "also", "decompose", "the", "3x3x3", "convolution", "kernel", "into", "intra", "-", "slice", "(", "3x3x1", ")", "and", "inter", "-", "slice", "(", "1x1x3", ")", "kernel", "to", "save", "on", "both", "the", "GPU", "memory", "and", "the", "computational", "time", ".", "This", "year", ",", "BraTS", "2018", "top", "performing", "submission", "(", "in", "addition", "to", "the", "current", "work", ")", "included", "Isensee", "et", "al", ".", "in", "the", "2nd", "place", ",", "McKinly", "et", "al", ".", "and", "Zhou", "et", "al", ".", ",", "who", "shared", "the", "3rd", "place", ".", "Isensee", "et", "al", ".", "demonstrated", "that", "a", "generic", "U", "-", "net", "architecture", "with", "a", "few", "minor", "modifications", "is", "enough", "to", "achieve", "competitive", "performance", ".", "The", "authors", "used", "a", "batch", "size", "of", "2", "and", "a", "crop", "size", "of", "128x128x128", ".", "Furthermore", ",", "the", "authors", "used", "an", "additional", "training", "data", "from", "their", "own", "institution", "(", "which", "yielded", "some", "improvements", "for", "the", "enhancing", "tumor", "dice", ")", ".", "McKinly", "et", "al", ".", "proposed", "a", "segmentation", "CNN", "in", "which", "a", "DenseNet", "structure", "with", "dilated", "convolutions", "was", "embedded", "in", "U", "-", "net", "-", "like", "network", ".", "The", "authors", "also", "introduce", "a", "new", "loss", "function", ",", "a", "generalization", "of", "binary", "cross", "-", "entropy", ",", "to", "account", "for", "label", "uncertainty", ".", "Finally", ",", "Zhou", "et", "al", ".", "proposed", "to", "use", "an", "ensemble", "of", "different", "networks", ":", "taking", "into", "account", "multi", "-", "scale", "context", "information", ",", "segmenting", "3", "tumor", "subregions", "in", "cascade", "with", "a", "shared", "backbone", "weights", "and", "adding", "an", "attention", "block", ".", "Compared", "to", "the", "related", "works", ",", "we", "use", "the", "largest", "crop", "size", "of", "160x192x128", "but", "compromise", "the", "batch", "size", "to", "be", "1", "to", "be", "able", "to", "fit", "network", "into", "the", "GPU", "memory", "limits", ".", "We", "also", "output", "all", "3", "nested", "tumor", "subregions", "directly", "after", "the", "sigmoid", "(", "instead", "of", "using", "several", "networks", "or", "the", "softmax", "over", "the", "number", "of", "classes", ")", ".", "Finally", ",", "we", "add", "an", "additional", "branch", "to", "regularize", "the", "shared", "encoder", ",", "used", "only", "during", "training", ".", "We", "did", "not", "use", "any", "additional", "training", "data", "and", "used", "only", "the", "provided", "training", "set", ".", "section", ":", "Methods", "Our", "segmentation", "approach", "follows", "encoder", "-", "decoder", "based", "CNN", "architecture", "with", "an", "asymmetrically", "larger", "encoder", "to", "extract", "image", "features", "and", "a", "smaller", "decoder", "to", "reconstruct", "the", "segmentation", "mask", ".", "We", "add", "an", "additional", "branch", "to", "the", "encoder", "endpoint", "to", "reconstruct", "the", "original", "image", ",", "similar", "to", "auto", "-", "encoder", "architecture", ".", "The", "motivation", "for", "using", "the", "auto", "-", "encoder", "branch", "is", "to", "add", "additional", "guidance", "and", "regularization", "to", "the", "encoder", "part", ",", "since", "the", "training", "dataset", "size", "is", "limited", ".", "We", "follow", "the", "variational", "auto", "-", "encoder", "(", "VAE", ")", "approach", "to", "better", "cluster", "/", "group", "the", "features", "of", "the", "encoder", "endpoint", ".", "We", "describe", "the", "building", "parts", "of", "our", "networks", "in", "the", "next", "subsections", "(", "see", "also", "Figure", "[", "reference", "]", ")", "subsection", ":", "Encoder", "part", "The", "encoder", "part", "uses", "ResNet", "blocks", ",", "where", "each", "block", "consists", "of", "two", "convolutions", "with", "normalization", "and", "ReLU", ",", "followed", "by", "additive", "identity", "skip", "connection", ".", "For", "normalization", ",", "we", "use", "Group", "Normalization", "(", "GN", ")", ",", "which", "shows", "better", "than", "BatchNorm", "performance", "when", "batch", "size", "is", "small", "(", "bath", "size", "of", "1", "in", "our", "case", ")", ".", "We", "follow", "a", "common", "CNN", "approach", "to", "progressively", "downsize", "image", "dimensions", "by", "2", "and", "simultaneously", "increase", "feature", "size", "by", "2", ".", "For", "downsizing", "we", "use", "strided", "convolutions", ".", "All", "convolutions", "are", "3x3x3", "with", "initial", "number", "of", "filters", "equal", "to", "32", ".", "The", "encoder", "endpoint", "has", "size", "256x20x24x16", ",", "and", "is", "8", "times", "spatially", "smaller", "than", "the", "input", "image", ".", "We", "decided", "against", "further", "downsizing", "to", "preserve", "more", "spatial", "content", ".", "subsection", ":", "Decoder", "part", "The", "decoder", "structure", "is", "similar", "to", "the", "encoder", "one", ",", "but", "with", "a", "single", "block", "per", "each", "spatial", "level", ".", "Each", "decoder", "level", "begins", "with", "upsizing", ":", "reducing", "the", "number", "of", "features", "by", "a", "factor", "of", "2", "(", "using", "1x1x1", "convolutions", ")", "and", "doubling", "the", "spatial", "dimension", "(", "using", "3D", "bilinear", "upsampling", ")", ",", "followed", "by", "an", "addition", "of", "encoder", "output", "of", "the", "equivalent", "spatial", "level", ".", "The", "end", "of", "the", "decoder", "has", "the", "same", "spatial", "size", "as", "the", "original", "image", ",", "and", "the", "number", "of", "features", "equal", "to", "the", "initial", "input", "feature", "size", ",", "followed", "by", "1x1x1", "convolution", "into", "3", "channels", "and", "a", "sigmoid", "function", ".", "subsection", ":", "VAE", "part", "Starting", "from", "the", "encoder", "endpoint", "output", ",", "we", "first", "reduce", "the", "input", "to", "a", "low", "dimensional", "space", "of", "256", "(", "128", "to", "represent", "mean", ",", "and", "128", "to", "represent", "std", ")", ".", "Then", ",", "a", "sample", "is", "drawn", "from", "the", "Gaussian", "distribution", "with", "the", "given", "mean", "and", "std", ",", "and", "reconstructed", "into", "the", "input", "image", "dimensions", "following", "the", "same", "architecture", "as", "the", "decoder", ",", "except", "we", "do", "n\u2019t", "use", "the", "inter", "-", "level", "skip", "connections", "from", "the", "encoder", "here", ".", "The", "VAE", "part", "structure", "is", "shown", "in", "Table", "[", "reference", "]", ".", "subsection", ":", "Loss", "Our", "loss", "function", "consists", "of", "3", "terms", ":", "is", "a", "soft", "dice", "loss", "applied", "to", "the", "decoder", "output", "to", "match", "the", "segmentation", "mask", ":", "where", "summation", "is", "voxel", "-", "wise", ",", "and", "is", "a", "small", "constant", "to", "avoid", "zero", "division", ".", "Since", "the", "output", "of", "the", "segmentation", "decoder", "has", "3", "channels", "(", "predictions", "for", "each", "tumor", "subregion", ")", ",", "we", "simply", "add", "the", "three", "dice", "loss", "functions", "together", ".", "is", "an", "L2", "loss", "on", "the", "VAE", "branch", "output", "to", "match", "the", "input", "image", ":", "is", "standard", "VAE", "penalty", "term", ",", "a", "KL", "divergence", "between", "the", "estimated", "normal", "distribution", "and", "a", "prior", "distribution", ",", "which", "has", "a", "closed", "form", "representation", ":", "where", "N", "is", "total", "number", "of", "image", "voxels", ".", "We", "empirically", "found", "a", "hyper", "-", "parameter", "weight", "of", "to", "provide", "a", "good", "balance", "between", "dice", "and", "VAE", "loss", "terms", "in", "Equation", "[", "reference", "]", ".", "subsection", ":", "Optimization", "We", "use", "Adam", "optimizer", "with", "initial", "learning", "rate", "of", "and", "progressively", "decrease", "it", "according", "to", ":", "where", "is", "an", "epoch", "counter", ",", "and", "is", "a", "total", "number", "of", "epochs", "(", "300", "in", "our", "case", ")", ".", "We", "use", "batch", "size", "of", "1", ",", "and", "draw", "input", "images", "in", "random", "order", "(", "ensuring", "that", "each", "training", "image", "is", "drawn", "once", "per", "epoch", ")", ".", "subsection", ":", "Regularization", "We", "use", "L2", "norm", "regularization", "on", "the", "convolutional", "kernel", "parameters", "with", "a", "weight", "of", ".", "We", "also", "use", "the", "spatial", "dropout", "with", "a", "rate", "of", "after", "the", "initial", "encoder", "convolution", ".", "We", "have", "experimented", "with", "other", "placements", "of", "the", "dropout", "(", "including", "placing", "dropout", "layer", "after", "each", "convolution", ")", ",", "but", "did", "not", "find", "any", "additional", "accuracy", "improvements", ".", "subsection", ":", "Data", "preprocessing", "and", "augmentation", "We", "normalize", "all", "input", "images", "to", "have", "zero", "mean", "and", "unit", "std", "(", "based", "on", "non", "-", "zero", "voxels", "only", ")", ".", "We", "apply", "a", "random", "(", "per", "channel", ")", "intensity", "shift", "(", "of", "image", "std", ")", "and", "scale", "(", ")", "on", "input", "image", "channels", ".", "We", "also", "apply", "a", "random", "axis", "mirror", "flip", "(", "for", "all", "3", "axes", ")", "with", "a", "probability", ".", "section", ":", "Results", "We", "implemented", "our", "network", "in", "Tensorflow", "and", "trained", "it", "on", "NVIDIA", "Tesla", "V100", "32", "GB", "GPU", "using", "BraTS", "2018", "training", "dataset", "(", "285", "cases", ")", "without", "any", "additional", "in", "-", "house", "data", ".", "During", "training", "we", "used", "a", "random", "crop", "of", "size", "160x192x128", ",", "which", "ensures", "that", "most", "image", "content", "remains", "within", "the", "crop", "area", ".", "We", "concatenated", "4", "available", "3D", "MRI", "modalities", "into", "the", "4", "channel", "image", "as", "an", "input", ".", "The", "output", "of", "the", "network", "is", "3", "nested", "tumor", "subregions", "(", "after", "the", "sigmoid", ")", ".", "We", "report", "the", "results", "of", "our", "approach", "on", "BraTS", "2018", "validation", "(", "66", "cases", ")", "and", "the", "testing", "sets", "(", "191", "cases", ")", ".", "These", "datasets", "were", "provided", "with", "unknown", "glioma", "grade", "and", "unknown", "segmentation", ".", "We", "uploaded", "our", "segmentation", "results", "to", "the", "BraTS", "2018", "server", "for", "evaluation", "of", "per", "class", "dice", ",", "sensitivity", ",", "specificity", "and", "Hausdorff", "distances", ".", "Aside", "from", "evaluating", "a", "single", "model", ",", "we", "also", "applied", "test", "time", "augmentation", "(", "TTA", ")", "by", "mirror", "flipping", "the", "input", "3D", "image", "axes", ",", "and", "averaged", "the", "output", "of", "the", "resulting", "8", "flipped", "segmentation", "probability", "maps", ".", "Finally", ",", "we", "ensembled", "a", "set", "of", "10", "models", "(", "trained", "from", "scratch", ")", "to", "further", "improve", "the", "performance", ".", "Table", "[", "reference", "]", "shows", "the", "results", "of", "our", "model", "on", "the", "BraTS", "2018", "validation", "dataset", ".", "At", "the", "time", "of", "initial", "short", "paper", "submission", "(", "Jul", "13", ",", "2018", ")", ",", "our", "dice", "accuracy", "performance", "was", "second", "best", "(", "team", "name", "NVDLMED", ")", "for", "all", "of", "the", "3", "segmentation", "labels", "(", "ET", ",", "WT", ",", "TC", ")", ".", "The", "TTA", "only", "marginally", "improved", "the", "performance", ",", "but", "the", "ensemble", "of", "10", "models", "resulted", "in", "1", "%", "improvement", ",", "which", "is", "consistent", "with", "the", "literature", "results", "of", "using", "ensembles", ".", "For", "the", "testing", "dataset", ",", "only", "a", "single", "submission", "was", "allowed", ".", "Our", "results", "are", "shown", "in", "Table", "[", "reference", "]", ",", "which", "won", "the", "1st", "place", "at", "BraTS", "2018", "challenge", ".", "Time", "-", "wise", ",", "each", "training", "epoch", "(", "285", "cases", ")", "on", "a", "single", "GPU", "(", "NVIDIA", "Tesla", "V100", "32", "GB", ")", "takes", "9min", ".", "Training", "the", "model", "for", "300", "epochs", "takes", "2", "days", ".", "We", "\u2019", "ve", "also", "trained", "the", "model", "on", "NVIDIA", "DGX", "-", "1", "server", "(", "that", "includes", "8", "V100", "GPUs", "interconnected", "with", "NVLink", ")", ";", "this", "allowed", "to", "train", "the", "model", "in", "6", "hours", "(", "7.8x", "speed", "up", ")", ".", "The", "inference", "time", "is", "0.4", "sec", "for", "a", "single", "model", "on", "a", "single", "V100", "GPU", ".", "section", ":", "Discussion", "and", "Conclusion", "In", "this", "work", ",", "we", "described", "a", "semantic", "segmentation", "network", "for", "brain", "tumor", "segmentation", "from", "multimodal", "3D", "MRIs", ",", "which", "won", "the", "BraTS", "2018", "challenge", ".", "While", "experimenting", "with", "network", "architectures", ",", "we", "have", "tried", "several", "alternative", "approaches", ".", "For", "instance", ",", "we", "have", "tried", "a", "larger", "batch", "size", "of", "8", "to", "be", "able", "to", "use", "BatchNorm", "(", "and", "take", "advantage", "of", "batch", "statistics", ")", ",", "however", "due", "to", "the", "GPU", "memory", "limits", "this", "modification", "required", "to", "use", "a", "smaller", "image", "crop", "size", ",", "and", "resulted", "in", "worse", "performance", ".", "We", "have", "also", "experimented", "with", "more", "sophisticated", "data", "augmentation", "techniques", ",", "including", "random", "histogram", "matching", ",", "affine", "image", "transforms", ",", "and", "random", "image", "filtering", ",", "which", "did", "not", "demonstrate", "any", "additional", "improvements", ".", "We", "have", "tried", "several", "data", "post", "-", "processing", "techniques", "to", "fine", "tune", "the", "segmentation", "predictions", "with", "CRF", ",", "but", "did", "not", "find", "it", "beneficial", "(", "it", "helped", "for", "some", "images", ",", "but", "made", "some", "other", "image", "segmentation", "results", "worse", ")", ".", "Increasing", "the", "network", "depth", "further", "did", "not", "improve", "the", "performance", ",", "but", "increasing", "the", "network", "width", "(", "the", "number", "of", "features", "/", "filters", ")", "consistently", "improved", "the", "results", ".", "Using", "the", "NVIDIA", "Volta", "V100", "32", "GB", "GPU", "we", "were", "able", "to", "double", "the", "number", "of", "features", "compared", "to", "V100", "16", "GB", "version", ".", "Finally", ",", "the", "additional", "VAE", "branch", "helped", "to", "regularize", "the", "shared", "encoder", "(", "in", "presence", "of", "limited", "data", ")", ",", "which", "not", "only", "improved", "the", "performance", ",", "but", "helped", "to", "consistently", "achieve", "good", "training", "accuracy", "for", "any", "random", "initialization", ".", "Our", "BraTS", "2018", "testing", "dataset", "results", "are", "0.7664", ",", "0.8839", "and", "0.8154", "average", "dice", "for", "enhanced", "tumor", "core", ",", "whole", "tumor", "and", "tumor", "core", ",", "respectively", ".", "bibliography", ":", "References"]}