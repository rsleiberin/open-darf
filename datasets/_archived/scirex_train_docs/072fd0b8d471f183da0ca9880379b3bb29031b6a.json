{"coref": {"Aerial-to-Map": [[2552, 2554], [3185, 3188], [3218, 3221], [4457, 4460], [4481, 4483], [4567, 4569], [5987, 5989], [4409, 4412]], "Cityscapes_Labels-to-Photo": [[2541, 2543], [3365, 3367], [3897, 3899], [5789, 5791], [5796, 5799], [5814, 5817]], "Cityscapes_Photo-to-Labels": [[2541, 2543], [3897, 3899], [4753, 4756]], "Class_IOU": [], "Image-to-Image_Translation": [[2, 8], [24, 31], [267, 274], [704, 711], [781, 787], [853, 862], [1718, 1725], [1860, 1863], [4954, 4961], [5077, 5084], [5104, 5111]], "Per-class_Accuracy": [[3375, 3377], [4766, 4769], [4798, 4799]], "Per-pixel_Accuracy": [[2871, 2878]], "cGAN": [[688, 690], [691, 692], [701, 702], [802, 804], [1295, 1297], [1526, 1528], [1629, 1631], [2503, 2505], [3435, 3436], [3485, 3486], [3655, 3656], [3742, 3744], [3769, 3770], [3890, 3891], [3954, 3955], [4071, 4073], [4184, 4185], [4744, 4745], [4779, 4780], [4836, 4837], [4864, 4865], [3731, 3732], [4596, 4597]], "pix2pix": [[4988, 4989], [113, 114], [844, 845], [2733, 2734], [4925, 4926], [5057, 5058], [5352, 5353], [6396, 6397]]}, "coref_non_salient": {"0": [[1100, 1102], [2083, 2085], [3475, 3476], [3791, 3792], [4232, 4234], [4538, 4540], [4641, 4643], [4749, 4751], [4784, 4786], [4856, 4858], [4905, 4906]], "1": [[1645, 1647], [5779, 5781]], "10": [[947, 949], [4243, 4246]], "100": [[3312, 3315]], "101": [[154, 156]], "102": [[89, 91]], "103": [[963, 966]], "104": [[1595, 1596]], "105": [[1127, 1129]], "106": [[3716, 3718]], "107": [[2378, 2380]], "108": [[3032, 3035]], "109": [[3409, 3411]], "11": [[939, 942], [1408, 1410], [3446, 3448]], "110": [[3011, 3014]], "111": [[2447, 2449]], "112": [[954, 958]], "113": [[5506, 5508]], "12": [[4017, 4020], [4025, 4028], [4043, 4046], [4080, 4083], [5398, 5399], [5429, 5433], [5436, 5437], [5474, 5475], [5528, 5529], [5828, 5831], [5872, 5875], [5916, 5919], [5925, 5928]], "13": [[616, 618], [683, 687], [1277, 1279], [3284, 3286]], "14": [[588, 591], [695, 698]], "15": [[1217, 1220], [1234, 1236], [1987, 1988], [2134, 2136], [2280, 2281], [4265, 4266], [4288, 4289], [4351, 4352], [4368, 4369]], "16": [[2852, 2854], [3017, 3020]], "17": [[202, 204], [2528, 2530], [4933, 4935]], "18": [[1540, 1541], [1563, 1564], [1677, 1678], [1711, 1712], [2394, 2396], [4390, 4392]], "19": [[944, 946], [1804, 1808]], "2": [[1031, 1035], [5355, 5356], [5368, 5369]], "20": [[2938, 2940], [3471, 3474], [4717, 4719], [4878, 4880]], "21": [[1186, 1189], [1668, 1672]], "22": [[5677, 5679], [5729, 5733]], "23": [[5517, 5518], [5670, 5671], [5881, 5882], [6275, 6277], [6292, 6293]], "24": [[9, 12], [14, 17], [2582, 2585], [5095, 5098], [5170, 5173]], "25": [[365, 368], [1215, 1217]], "26": [[4126, 4127], [4188, 4189], [4305, 4306]], "27": [[3300, 3302], [3327, 3328]], "28": [[5388, 5390], [5724, 5726]], "29": [[2425, 2427], [2463, 2465]], "3": [[850, 852], [950, 952], [3853, 3855]], "30": [[592, 593], [595, 596], [636, 637], [672, 673], [680, 681], [726, 727], [1077, 1078], [1275, 1276], [4810, 4811], [771, 772], [907, 908], [997, 998], [1005, 1006], [1017, 1018], [4689, 4690]], "31": [[2295, 2296], [2353, 2354]], "32": [[4103, 4104], [4105, 4106], [4107, 4108], [4172, 4173], [4255, 4256]], "33": [[2314, 2317]], "34": [[1200, 1207], [3979, 3983], [5552, 5556]], "35": [[2532, 2534], [3357, 3359], [4686, 4688], [4721, 4723]], "36": [[5455, 5468], [5607, 5622], [5631, 5638]], "37": [[2856, 2857], [2907, 2909], [4313, 4315]], "38": [[75, 77], [185, 187], [505, 507], [568, 570], [639, 640], [960, 961]], "39": [[5074, 5076]], "4": [[1211, 1212], [1332, 1333], [1457, 1458], [1679, 1680], [2127, 2129], [2234, 2235], [3429, 3430], [3570, 3571], [5403, 5404], [5624, 5626], [5627, 5629], [5708, 5709], [5727, 5728]], "40": [[3281, 3283]], "41": [[195, 197], [4251, 4253], [4709, 4714]], "42": [[1902, 1904], [2941, 2942], [2970, 2972], [3168, 3170], [3255, 3256], [4682, 4683]], "43": [[4941, 4943]], "44": [[3916, 3919]], "45": [[3276, 3279], [3525, 3528], [4155, 4158], [4276, 4279], [4326, 4329], [6383, 6386]], "46": [[1787, 1789], [3976, 3978], [5426, 5428], [6330, 6333]], "47": [[1433, 1434], [3641, 3642], [5124, 5125]], "48": [[198, 200], [2520, 2522], [4898, 4900], [4936, 4938]], "49": [[4992, 4994]], "5": [[380, 383], [1037, 1039], [1044, 1047], [1123, 1126]], "50": [[1048, 1051], [2524, 2526], [2943, 2945], [2962, 2964], [2965, 2968], [4021, 4023], [4995, 4997]], "51": [[3352, 3356]], "52": [[1090, 1091], [3449, 3450], [3574, 3575], [3660, 3661], [5438, 5454], [969, 970], [1372, 1373], [1427, 1428], [2070, 2071], [2329, 2330], [3421, 3422], [3542, 3543], [4636, 4637]], "53": [[3530, 3534]], "54": [[4372, 4377]], "55": [[6281, 6283]], "56": [[1943, 1946], [4012, 4015], [4062, 4065], [4076, 4079], [4091, 4094], [5823, 5826], [5905, 5908]], "57": [[4467, 4469]], "58": [[5863, 5866]], "59": [[1121, 1122], [6423, 6424]], "6": [[1685, 1690], [5358, 5364], [5371, 5379]], "60": [[369, 370], [384, 385], [464, 465], [510, 511]], "61": [[281, 285]], "62": [[2586, 2587]], "63": [[2549, 2551]], "64": [[2297, 2298]], "65": [[2288, 2292]], "66": [[3391, 3393]], "67": [[404, 406]], "68": [[1063, 1065]], "69": [[5602, 5606]], "7": [[1041, 1043], [4470, 4472]], "70": [[6058, 6059]], "71": [[675, 677]], "72": [[5030, 5031]], "73": [[2373, 2375]], "74": [[5947, 5949]], "75": [[4543, 4545]], "76": [[5386, 5387], [5395, 5396], [5477, 5478], [5644, 5645], [5722, 5723]], "77": [[2802, 2803]], "78": [[261, 264]], "79": [[3025, 3029]], "8": [[1984, 1986], [2241, 2244]], "80": [[4577, 4578]], "81": [[168, 170]], "82": [[866, 872]], "83": [[5365, 5367]], "84": [[3230, 3234], [4360, 4364]], "85": [[1969, 1971]], "86": [[2995, 2997]], "87": [[2368, 2370]], "88": [[1138, 1139]], "89": [[86, 88]], "9": [[4443, 4445], [4448, 4450]], "90": [[1079, 1085]], "91": [[4240, 4242]], "92": [[1663, 1665], [5328, 5330], [5333, 5335]], "93": [[1134, 1136], [5010, 5012]], "94": [[1053, 1055], [2011, 2014], [2474, 2477]], "95": [[5681, 5682]], "96": [[2588, 2589]], "97": [[3708, 3711]], "98": [[1437, 1439]], "99": [[2591, 2594]]}, "doc_id": "072fd0b8d471f183da0ca9880379b3bb29031b6a", "method_subrelations": {"cGAN": [[[0, 4], "cGAN"]], "pix2pix": [[[0, 7], "pix2pix"]]}, "n_ary_relations": [{"Material": "Aerial-to-Map", "Method": "cGAN", "Metric": "Class_IOU", "Task": "Image-to-Image_Translation", "score": "0.26"}, {"Material": "Aerial-to-Map", "Method": "cGAN", "Metric": "Per-class_Accuracy", "Task": "Image-to-Image_Translation", "score": "46%"}, {"Material": "Aerial-to-Map", "Method": "cGAN", "Metric": "Per-pixel_Accuracy", "Task": "Image-to-Image_Translation", "score": "70%"}, {"Material": "Cityscapes_Labels-to-Photo", "Method": "pix2pix", "Metric": "Class_IOU", "Task": "Image-to-Image_Translation", "score": "0.18"}, {"Material": "Cityscapes_Labels-to-Photo", "Method": "pix2pix", "Metric": "Per-class_Accuracy", "Task": "Image-to-Image_Translation", "score": "25%"}, {"Material": "Cityscapes_Labels-to-Photo", "Method": "pix2pix", "Metric": "Per-pixel_Accuracy", "Task": "Image-to-Image_Translation", "score": "71%"}, {"Material": "Cityscapes_Photo-to-Labels", "Method": "pix2pix", "Metric": "Class_IOU", "Task": "Image-to-Image_Translation", "score": "0.32"}, {"Material": "Cityscapes_Photo-to-Labels", "Method": "pix2pix", "Metric": "Per-class_Accuracy", "Task": "Image-to-Image_Translation", "score": "40%"}, {"Material": "Cityscapes_Photo-to-Labels", "Method": "pix2pix", "Metric": "Per-pixel_Accuracy", "Task": "Image-to-Image_Translation", "score": "85%"}], "ner": [[2, 8, "Task"], [9, 12, "Method"], [14, 17, "Method"], [24, 31, "Task"], [75, 77, "Method"], [86, 88, "Task"], [89, 91, "Method"], [154, 156, "Method"], [168, 170, "Method"], [185, 187, "Method"], [195, 197, "Task"], [198, 200, "Task"], [202, 204, "Task"], [261, 264, "Task"], [267, 274, "Task"], [281, 285, "Task"], [365, 368, "Method"], [369, 370, "Method"], [380, 383, "Task"], [384, 385, "Method"], [404, 406, "Method"], [464, 465, "Method"], [505, 507, "Method"], [510, 511, "Method"], [568, 570, "Method"], [588, 591, "Method"], [592, 593, "Method"], [595, 596, "Method"], [616, 618, "Method"], [636, 637, "Method"], [639, 640, "Method"], [672, 673, "Method"], [675, 677, "Task"], [680, 681, "Method"], [683, 687, "Method"], [688, 690, "Method"], [691, 692, "Method"], [695, 698, "Method"], [701, 702, "Method"], [704, 711, "Task"], [726, 727, "Method"], [781, 787, "Task"], [802, 804, "Method"], [850, 852, "Method"], [853, 862, "Task"], [866, 872, "Task"], [939, 942, "Method"], [944, 946, "Method"], [947, 949, "Method"], [950, 952, "Method"], [954, 958, "Method"], [960, 961, "Method"], [963, 966, "Method"], [1031, 1035, "Method"], [1037, 1039, "Task"], [1041, 1043, "Task"], [1044, 1047, "Task"], [1048, 1051, "Task"], [1053, 1055, "Task"], [1063, 1065, "Method"], [1077, 1078, "Method"], [1079, 1085, "Task"], [1090, 1091, "Method"], [1100, 1102, "Method"], [1121, 1122, "Task"], [1123, 1126, "Task"], [1127, 1129, "Task"], [1134, 1136, "Task"], [1138, 1139, "Task"], [1186, 1189, "Method"], [1200, 1207, "Method"], [1211, 1212, "Method"], [1215, 1217, "Method"], [1217, 1220, "Method"], [1234, 1236, "Method"], [1275, 1276, "Method"], [1277, 1279, "Method"], [1295, 1297, "Method"], [1332, 1333, "Method"], [1408, 1410, "Method"], [1433, 1434, "Metric"], [1437, 1439, "Method"], [1457, 1458, "Method"], [1526, 1528, "Method"], [1540, 1541, "Method"], [1563, 1564, "Method"], [1595, 1596, "Method"], [1629, 1631, "Method"], [1645, 1647, "Method"], [1663, 1665, "Method"], [1668, 1672, "Method"], [1677, 1678, "Method"], [1679, 1680, "Method"], [1685, 1690, "Method"], [1711, 1712, "Method"], [1718, 1725, "Task"], [1787, 1789, "Method"], [1804, 1808, "Method"], [1860, 1863, "Task"], [1902, 1904, "Task"], [1943, 1946, "Method"], [1969, 1971, "Method"], [1984, 1986, "Method"], [1987, 1988, "Method"], [2011, 2014, "Task"], [2083, 2085, "Method"], [2127, 2129, "Method"], [2134, 2136, "Method"], [2234, 2235, "Method"], [2241, 2244, "Method"], [2280, 2281, "Method"], [2288, 2292, "Task"], [2295, 2296, "Task"], [2297, 2298, "Task"], [2314, 2317, "Method"], [2353, 2354, "Task"], [2368, 2370, "Method"], [2373, 2375, "Method"], [2378, 2380, "Metric"], [2394, 2396, "Method"], [2425, 2427, "Method"], [2447, 2449, "Task"], [2463, 2465, "Method"], [2474, 2477, "Task"], [2503, 2505, "Method"], [2520, 2522, "Task"], [2524, 2526, "Task"], [2528, 2530, "Task"], [2532, 2534, "Task"], [2541, 2543, "Material"], [2549, 2551, "Method"], [2552, 2554, "Material"], [2582, 2585, "Method"], [2586, 2587, "Method"], [2588, 2589, "Method"], [2591, 2594, "Method"], [2802, 2803, "Task"], [2852, 2854, "Metric"], [2856, 2857, "Metric"], [2871, 2878, "Metric"], [2907, 2909, "Metric"], [2938, 2940, "Task"], [2941, 2942, "Task"], [2943, 2945, "Task"], [2962, 2964, "Task"], [2965, 2968, "Task"], [2970, 2972, "Task"], [2995, 2997, "Method"], [3011, 3014, "Metric"], [3017, 3020, "Metric"], [3025, 3029, "Metric"], [3032, 3035, "Task"], [3168, 3170, "Task"], [3185, 3188, "Material"], [3218, 3221, "Material"], [3230, 3234, "Method"], [3255, 3256, "Task"], [3276, 3279, "Metric"], [3281, 3283, "Task"], [3284, 3286, "Method"], [3300, 3302, "Method"], [3312, 3315, "Metric"], [3327, 3328, "Method"], [3352, 3356, "Method"], [3357, 3359, "Task"], [3365, 3367, "Material"], [3375, 3377, "Metric"], [3391, 3393, "Metric"], [3409, 3411, "Task"], [3429, 3430, "Method"], [3435, 3436, "Method"], [3446, 3448, "Method"], [3449, 3450, "Method"], [3471, 3474, "Task"], [3475, 3476, "Method"], [3485, 3486, "Method"], [3525, 3528, "Metric"], [3530, 3534, "Task"], [3570, 3571, "Method"], [3574, 3575, "Method"], [3641, 3642, "Metric"], [3655, 3656, "Method"], [3660, 3661, "Method"], [3708, 3711, "Method"], [3716, 3718, "Task"], [3742, 3744, "Method"], [3769, 3770, "Method"], [3791, 3792, "Method"], [3853, 3855, "Method"], [3890, 3891, "Method"], [3897, 3899, "Material"], [3916, 3919, "Metric"], [3954, 3955, "Method"], [3976, 3978, "Method"], [3979, 3983, "Method"], [4012, 4015, "Method"], [4017, 4020, "Method"], [4021, 4023, "Task"], [4025, 4028, "Method"], [4043, 4046, "Method"], [4062, 4065, "Method"], [4071, 4073, "Method"], [4076, 4079, "Method"], [4080, 4083, "Method"], [4091, 4094, "Method"], [4103, 4104, "Method"], [4105, 4106, "Method"], [4107, 4108, "Method"], [4126, 4127, "Method"], [4155, 4158, "Metric"], [4172, 4173, "Method"], [4184, 4185, "Method"], [4188, 4189, "Method"], [4232, 4234, "Method"], [4240, 4242, "Method"], [4243, 4246, "Method"], [4251, 4253, "Task"], [4255, 4256, "Method"], [4265, 4266, "Method"], [4276, 4279, "Metric"], [4288, 4289, "Method"], [4305, 4306, "Method"], [4313, 4315, "Metric"], [4326, 4329, "Metric"], [4351, 4352, "Method"], [4360, 4364, "Method"], [4368, 4369, "Method"], [4372, 4377, "Method"], [4390, 4392, "Method"], [4443, 4445, "Metric"], [4448, 4450, "Metric"], [4457, 4460, "Material"], [4467, 4469, "Method"], [4470, 4472, "Task"], [4481, 4483, "Material"], [4538, 4540, "Method"], [4543, 4545, "Method"], [4567, 4569, "Material"], [4577, 4578, "Method"], [4641, 4643, "Method"], [4682, 4683, "Task"], [4686, 4688, "Task"], [4709, 4714, "Task"], [4717, 4719, "Task"], [4721, 4723, "Task"], [4744, 4745, "Method"], [4749, 4751, "Method"], [4753, 4756, "Material"], [4766, 4769, "Metric"], [4779, 4780, "Method"], [4784, 4786, "Method"], [4798, 4799, "Metric"], [4810, 4811, "Method"], [4836, 4837, "Method"], [4856, 4858, "Method"], [4864, 4865, "Method"], [4878, 4880, "Task"], [4898, 4900, "Task"], [4905, 4906, "Method"], [4933, 4935, "Task"], [4936, 4938, "Task"], [4941, 4943, "Task"], [4954, 4961, "Task"], [4988, 4989, "Method"], [4992, 4994, "Task"], [4995, 4997, "Task"], [5010, 5012, "Task"], [5030, 5031, "Method"], [5074, 5076, "Method"], [5077, 5084, "Task"], [5095, 5098, "Method"], [5104, 5111, "Task"], [5124, 5125, "Metric"], [5170, 5173, "Method"], [5328, 5330, "Method"], [5333, 5335, "Method"], [5355, 5356, "Method"], [5358, 5364, "Method"], [5365, 5367, "Method"], [5368, 5369, "Method"], [5371, 5379, "Method"], [5386, 5387, "Method"], [5388, 5390, "Method"], [5395, 5396, "Method"], [5398, 5399, "Method"], [5403, 5404, "Method"], [5426, 5428, "Method"], [5429, 5433, "Method"], [5436, 5437, "Method"], [5438, 5454, "Method"], [5455, 5468, "Method"], [5474, 5475, "Method"], [5477, 5478, "Method"], [5506, 5508, "Method"], [5517, 5518, "Method"], [5528, 5529, "Method"], [5552, 5556, "Method"], [5602, 5606, "Method"], [5607, 5622, "Method"], [5624, 5626, "Method"], [5627, 5629, "Method"], [5631, 5638, "Method"], [5644, 5645, "Method"], [5670, 5671, "Method"], [5677, 5679, "Method"], [5681, 5682, "Method"], [5708, 5709, "Method"], [5722, 5723, "Method"], [5724, 5726, "Method"], [5727, 5728, "Method"], [5729, 5733, "Method"], [5779, 5781, "Method"], [5789, 5791, "Material"], [5796, 5799, "Material"], [5814, 5817, "Material"], [5823, 5826, "Method"], [5828, 5831, "Method"], [5863, 5866, "Task"], [5872, 5875, "Method"], [5881, 5882, "Method"], [5905, 5908, "Method"], [5916, 5919, "Method"], [5925, 5928, "Method"], [5947, 5949, "Method"], [5987, 5989, "Material"], [6058, 6059, "Method"], [6275, 6277, "Method"], [6281, 6283, "Method"], [6292, 6293, "Method"], [6330, 6333, "Method"], [6383, 6386, "Metric"], [6423, 6424, "Task"], [113, 114, "Method"], [771, 772, "Method"], [844, 845, "Method"], [907, 908, "Method"], [969, 970, "Method"], [997, 998, "Method"], [1005, 1006, "Method"], [1017, 1018, "Method"], [1372, 1373, "Method"], [1427, 1428, "Method"], [2070, 2071, "Method"], [2329, 2330, "Method"], [2733, 2734, "Method"], [3421, 3422, "Method"], [3542, 3543, "Method"], [3731, 3732, "Method"], [4409, 4412, "Material"], [4596, 4597, "Method"], [4636, 4637, "Method"], [4689, 4690, "Method"], [4925, 4926, "Method"], [5057, 5058, "Method"], [5352, 5353, "Method"], [6396, 6397, "Method"]], "sections": [[0, 189], [189, 846], [846, 1272], [1272, 1364], [1364, 1661], [1661, 1709], [1709, 1982], [1982, 2293], [2293, 2495], [2495, 2850], [2850, 3386], [3386, 3971], [3971, 4100], [4100, 4441], [4441, 4684], [4684, 4910], [4910, 5085], [5085, 5145], [5145, 5320], [5320, 5323], [5323, 5326], [5326, 5424], [5424, 5622], [5622, 5745], [5745, 6250], [6250, 6324], [6324, 6444]], "sentences": [[0, 12], [12, 32], [32, 57], [57, 78], [78, 106], [106, 157], [157, 189], [189, 192], [192, 220], [220, 258], [258, 300], [300, 337], [337, 353], [353, 384], [384, 392], [392, 421], [421, 439], [439, 455], [455, 485], [485, 502], [502, 518], [518, 536], [536, 576], [576, 595], [595, 623], [623, 635], [635, 666], [666, 678], [678, 699], [699, 726], [726, 751], [751, 788], [788, 808], [808, 834], [834, 846], [846, 850], [850, 877], [877, 906], [906, 914], [914, 924], [924, 967], [967, 996], [996, 998], [998, 1011], [1011, 1030], [1030, 1071], [1071, 1114], [1114, 1140], [1140, 1151], [1151, 1162], [1162, 1172], [1172, 1190], [1190, 1217], [1217, 1232], [1232, 1246], [1246, 1272], [1272, 1275], [1275, 1292], [1292, 1311], [1311, 1353], [1353, 1364], [1364, 1367], [1367, 1394], [1394, 1440], [1440, 1442], [1442, 1472], [1472, 1490], [1490, 1525], [1525, 1550], [1550, 1580], [1580, 1611], [1611, 1628], [1628, 1661], [1661, 1665], [1665, 1676], [1676, 1691], [1691, 1709], [1709, 1714], [1714, 1741], [1741, 1769], [1769, 1784], [1784, 1793], [1793, 1809], [1809, 1840], [1840, 1858], [1858, 1895], [1895, 1916], [1916, 1948], [1948, 1968], [1968, 1982], [1982, 1989], [1989, 2006], [2006, 2015], [2015, 2037], [2037, 2061], [2061, 2066], [2066, 2094], [2094, 2099], [2099, 2122], [2122, 2147], [2147, 2163], [2163, 2182], [2182, 2209], [2209, 2232], [2232, 2257], [2257, 2277], [2277, 2293], [2293, 2298], [2298, 2324], [2324, 2344], [2344, 2366], [2366, 2387], [2387, 2407], [2407, 2444], [2444, 2478], [2478, 2495], [2495, 2498], [2498, 2544], [2544, 2552], [2552, 2563], [2563, 2569], [2569, 2576], [2576, 2588], [2588, 2601], [2601, 2606], [2606, 2614], [2614, 2626], [2626, 2642], [2642, 2658], [2658, 2712], [2712, 2723], [2723, 2736], [2736, 2740], [2740, 2754], [2754, 2796], [2796, 2834], [2834, 2850], [2850, 2854], [2854, 2867], [2867, 2902], [2902, 2918], [2918, 2937], [2937, 2957], [2957, 2976], [2976, 3004], [3004, 3032], [3032, 3039], [3039, 3072], [3072, 3102], [3102, 3117], [3117, 3130], [3130, 3152], [3152, 3157], [3157, 3166], [3166, 3184], [3184, 3217], [3217, 3254], [3254, 3275], [3275, 3276], [3276, 3279], [3279, 3316], [3316, 3344], [3344, 3368], [3368, 3386], [3386, 3393], [3393, 3401], [3401, 3407], [3407, 3439], [3439, 3453], [3453, 3458], [3458, 3475], [3475, 3484], [3484, 3492], [3492, 3508], [3508, 3519], [3519, 3560], [3560, 3577], [3577, 3602], [3602, 3629], [3629, 3662], [3662, 3706], [3706, 3725], [3725, 3737], [3737, 3766], [3766, 3783], [3783, 3789], [3789, 3832], [3832, 3852], [3852, 3880], [3880, 3900], [3900, 3915], [3915, 3926], [3926, 3952], [3952, 3971], [3971, 3978], [3978, 3994], [3994, 4001], [4001, 4024], [4024, 4042], [4042, 4058], [4058, 4100], [4100, 4108], [4108, 4126], [4126, 4132], [4132, 4135], [4135, 4150], [4150, 4159], [4159, 4187], [4187, 4212], [4212, 4243], [4243, 4263], [4263, 4287], [4287, 4298], [4298, 4305], [4305, 4336], [4336, 4360], [4360, 4364], [4364, 4385], [4385, 4404], [4404, 4414], [4414, 4427], [4427, 4441], [4441, 4445], [4445, 4464], [4464, 4480], [4480, 4509], [4509, 4547], [4547, 4575], [4575, 4590], [4590, 4611], [4611, 4634], [4634, 4670], [4670, 4684], [4684, 4688], [4688, 4715], [4715, 4735], [4735, 4757], [4757, 4777], [4777, 4800], [4800, 4835], [4835, 4874], [4874, 4910], [4910, 4916], [4916, 4971], [4971, 5032], [5032, 5062], [5062, 5085], [5085, 5088], [5088, 5120], [5120, 5145], [5145, 5149], [5149, 5186], [5186, 5233], [5233, 5268], [5268, 5279], [5279, 5281], [5281, 5320], [5320, 5323], [5323, 5326], [5326, 5330], [5330, 5339], [5339, 5354], [5354, 5368], [5368, 5385], [5385, 5395], [5395, 5424], [5424, 5428], [5428, 5455], [5455, 5509], [5509, 5530], [5530, 5551], [5551, 5582], [5582, 5592], [5592, 5622], [5622, 5626], [5626, 5638], [5638, 5662], [5662, 5680], [5680, 5689], [5689, 5708], [5708, 5713], [5713, 5745], [5745, 5749], [5749, 5767], [5767, 5774], [5774, 5789], [5789, 5811], [5811, 5820], [5820, 5852], [5852, 5876], [5876, 5904], [5904, 5936], [5936, 5950], [5950, 5956], [5956, 5978], [5978, 5987], [5987, 6012], [6012, 6023], [6023, 6058], [6058, 6085], [6085, 6098], [6098, 6116], [6116, 6125], [6125, 6142], [6142, 6151], [6151, 6152], [6152, 6176], [6176, 6189], [6189, 6208], [6208, 6219], [6219, 6250], [6250, 6253], [6253, 6285], [6285, 6306], [6306, 6324], [6324, 6328], [6328, 6329], [6329, 6362], [6362, 6383], [6383, 6409], [6409, 6415], [6415, 6431], [6431, 6432], [6432, 6433], [6433, 6440], [6440, 6444]], "words": ["document", ":", "Image", "-", "to", "-", "Image", "Translation", "with", "Conditional", "Adversarial", "Networks", "We", "investigate", "conditional", "adversarial", "networks", "as", "a", "general", "-", "purpose", "solution", "to", "image", "-", "to", "-", "image", "translation", "problems", ".", "These", "networks", "not", "only", "learn", "the", "mapping", "from", "input", "image", "to", "output", "image", ",", "but", "also", "learn", "a", "loss", "function", "to", "train", "this", "mapping", ".", "This", "makes", "it", "possible", "to", "apply", "the", "same", "generic", "approach", "to", "problems", "that", "traditionally", "would", "require", "very", "different", "loss", "formulations", ".", "We", "demonstrate", "that", "this", "approach", "is", "effective", "at", "synthesizing", "photos", "from", "label", "maps", ",", "reconstructing", "objects", "from", "edge", "maps", ",", "and", "colorizing", "images", ",", "among", "other", "tasks", ".", "Indeed", ",", "since", "the", "release", "of", "the", "pix2pix", "software", "associated", "with", "this", "paper", ",", "a", "large", "number", "of", "internet", "users", "(", "many", "of", "them", "artists", ")", "have", "posted", "their", "own", "experiments", "with", "our", "system", ",", "further", "demonstrating", "its", "wide", "applicability", "and", "ease", "of", "adoption", "without", "the", "need", "for", "parameter", "tweaking", ".", "As", "a", "community", ",", "we", "no", "longer", "hand", "-", "engineer", "our", "mapping", "functions", ",", "and", "this", "work", "suggests", "we", "can", "achieve", "reasonable", "results", "without", "hand", "-", "engineering", "our", "loss", "functions", "either", ".", "section", ":", "Introduction", "Many", "problems", "in", "image", "processing", ",", "computer", "graphics", ",", "and", "computer", "vision", "can", "be", "posed", "as", "\u201c", "translating", "\u201d", "an", "input", "image", "into", "a", "corresponding", "output", "image", ".", "Just", "as", "a", "concept", "may", "be", "expressed", "in", "either", "English", "or", "French", ",", "a", "scene", "may", "be", "rendered", "as", "an", "RGB", "image", ",", "a", "gradient", "field", ",", "an", "edge", "map", ",", "a", "semantic", "label", "map", ",", "etc", ".", "In", "analogy", "to", "automatic", "language", "translation", ",", "we", "define", "automatic", "image", "-", "to", "-", "image", "translation", "as", "the", "task", "of", "translating", "one", "possible", "representation", "of", "a", "scene", "into", "another", ",", "given", "sufficient", "training", "data", "(", "see", "Figure", "[", "reference", "]", ")", ".", "Traditionally", ",", "each", "of", "these", "tasks", "has", "been", "tackled", "with", "separate", ",", "special", "-", "purpose", "machinery", "(", "e.g.", ",", ")", ",", "despite", "the", "fact", "that", "the", "setting", "is", "always", "the", "same", ":", "predict", "pixels", "from", "pixels", ".", "Our", "goal", "in", "this", "paper", "is", "to", "develop", "a", "common", "framework", "for", "all", "these", "problems", ".", "The", "community", "has", "already", "taken", "significant", "steps", "in", "this", "direction", ",", "with", "convolutional", "neural", "nets", "(", "CNNs", ")", "becoming", "the", "common", "workhorse", "behind", "a", "wide", "variety", "of", "image", "prediction", "problems", ".", "CNNs", "learn", "to", "minimize", "a", "loss", "function", "\u2013", "an", "objective", "that", "scores", "the", "quality", "of", "results", "\u2013", "and", "although", "the", "learning", "process", "is", "automatic", ",", "a", "lot", "of", "manual", "effort", "still", "goes", "into", "designing", "effective", "losses", ".", "In", "other", "words", ",", "we", "still", "have", "to", "tell", "the", "CNN", "what", "we", "wish", "it", "to", "minimize", ".", "But", ",", "just", "like", "King", "Midas", ",", "we", "must", "be", "careful", "what", "we", "wish", "for", "!", "If", "we", "take", "a", "naive", "approach", "and", "ask", "the", "CNN", "to", "minimize", "the", "Euclidean", "distance", "between", "predicted", "and", "ground", "truth", "pixels", ",", "it", "will", "tend", "to", "produce", "blurry", "results", ".", "This", "is", "because", "Euclidean", "distance", "is", "minimized", "by", "averaging", "all", "plausible", "outputs", ",", "which", "causes", "blurring", ".", "Coming", "up", "with", "loss", "functions", "that", "force", "the", "CNN", "to", "do", "what", "we", "really", "want", "\u2013", "e.g.", ",", "output", "sharp", ",", "realistic", "images", "\u2013", "is", "an", "open", "problem", "and", "generally", "requires", "expert", "knowledge", ".", "It", "would", "be", "highly", "desirable", "if", "we", "could", "instead", "specify", "only", "a", "high", "-", "level", "goal", ",", "like", "\u201c", "make", "the", "output", "indistinguishable", "from", "reality", "\u201d", ",", "and", "then", "automatically", "learn", "a", "loss", "function", "appropriate", "for", "satisfying", "this", "goal", ".", "Fortunately", ",", "this", "is", "exactly", "what", "is", "done", "by", "the", "recently", "proposed", "Generative", "Adversarial", "Networks", "(", "GANs", ")", ".", "GANs", "learn", "a", "loss", "that", "tries", "to", "classify", "if", "the", "output", "image", "is", "real", "or", "fake", ",", "while", "simultaneously", "training", "a", "generative", "model", "to", "minimize", "this", "loss", ".", "Blurry", "images", "will", "not", "be", "tolerated", "since", "they", "look", "obviously", "fake", ".", "Because", "GANs", "learn", "a", "loss", "that", "adapts", "to", "the", "data", ",", "they", "can", "be", "applied", "to", "a", "multitude", "of", "tasks", "that", "traditionally", "would", "require", "very", "different", "kinds", "of", "loss", "functions", ".", "In", "this", "paper", ",", "we", "explore", "GANs", "in", "the", "conditional", "setting", ".", "Just", "as", "GANs", "learn", "a", "generative", "model", "of", "data", ",", "conditional", "GANs", "(", "cGANs", ")", "learn", "a", "conditional", "generative", "model", ".", "This", "makes", "cGANs", "suitable", "for", "image", "-", "to", "-", "image", "translation", "tasks", ",", "where", "we", "condition", "on", "an", "input", "image", "and", "generate", "a", "corresponding", "output", "image", ".", "GANs", "have", "been", "vigorously", "studied", "in", "the", "last", "two", "years", "and", "many", "of", "the", "techniques", "we", "explore", "in", "this", "paper", "have", "been", "previously", "proposed", ".", "Nonetheless", ",", "earlier", "papers", "have", "focused", "on", "specific", "applications", ",", "and", "it", "has", "remained", "unclear", "how", "effective", "image", "-", "conditional", "GANs", "can", "be", "as", "a", "general", "-", "purpose", "solution", "for", "image", "-", "to", "-", "image", "translation", ".", "Our", "primary", "contribution", "is", "to", "demonstrate", "that", "on", "a", "wide", "variety", "of", "problems", ",", "conditional", "GANs", "produce", "reasonable", "results", ".", "Our", "second", "contribution", "is", "to", "present", "a", "simple", "framework", "sufficient", "to", "achieve", "good", "results", ",", "and", "to", "analyze", "the", "effects", "of", "several", "important", "architectural", "choices", ".", "Code", "is", "available", "at", "https:", "//", "github.com", "/", "phillipi", "/", "pix2pix", ".", "section", ":", "Related", "work", "Structured", "losses", "for", "image", "modeling", "Image", "-", "to", "-", "image", "translation", "problems", "are", "often", "formulated", "as", "per", "-", "pixel", "classification", "or", "regression", "(", "e.g.", ",", ")", ".", "These", "formulations", "treat", "the", "output", "space", "as", "\u201c", "unstructured", "\u201d", "in", "the", "sense", "that", "each", "output", "pixel", "is", "considered", "conditionally", "independent", "from", "all", "others", "given", "the", "input", "image", ".", "Conditional", "GANs", "instead", "learn", "a", "structured", "loss", ".", "Structured", "losses", "penalize", "the", "joint", "configuration", "of", "the", "output", ".", "A", "large", "body", "of", "literature", "has", "considered", "losses", "of", "this", "kind", ",", "with", "methods", "including", "conditional", "random", "fields", ",", "the", "SSIM", "metric", ",", "feature", "matching", ",", "nonparametric", "losses", ",", "the", "convolutional", "pseudo", "-", "prior", ",", "and", "losses", "based", "on", "matching", "covariance", "statistics", ".", "The", "conditional", "GAN", "is", "different", "in", "that", "the", "loss", "is", "learned", ",", "and", "can", ",", "in", "theory", ",", "penalize", "any", "possible", "structure", "that", "differs", "between", "output", "and", "target", ".", "Conditional", "GANs", "We", "are", "not", "the", "first", "to", "apply", "GANs", "in", "the", "conditional", "setting", ".", "Prior", "and", "concurrent", "works", "have", "conditioned", "GANs", "on", "discrete", "labels", ",", "text", ",", "and", ",", "indeed", ",", "images", ".", "The", "image", "-", "conditional", "models", "have", "tackled", "image", "prediction", "from", "a", "normal", "map", ",", "future", "frame", "prediction", ",", "product", "photo", "generation", ",", "and", "image", "generation", "from", "sparse", "annotations", "(", "c.f", ".", "for", "an", "autoregressive", "approach", "to", "the", "same", "problem", ")", ".", "Several", "other", "papers", "have", "also", "used", "GANs", "for", "image", "-", "to", "-", "image", "mappings", ",", "but", "only", "applied", "the", "GAN", "unconditionally", ",", "relying", "on", "other", "terms", "(", "such", "as", "L2", "regression", ")", "to", "force", "the", "output", "to", "be", "conditioned", "on", "the", "input", ".", "These", "papers", "have", "achieved", "impressive", "results", "on", "inpainting", ",", "future", "state", "prediction", ",", "image", "manipulation", "guided", "by", "user", "constraints", ",", "style", "transfer", ",", "and", "superresolution", ".", "Each", "of", "the", "methods", "was", "tailored", "for", "a", "specific", "application", ".", "Our", "framework", "differs", "in", "that", "nothing", "is", "application", "-", "specific", ".", "This", "makes", "our", "setup", "considerably", "simpler", "than", "most", "others", ".", "Our", "method", "also", "differs", "from", "the", "prior", "works", "in", "several", "architectural", "choices", "for", "the", "generator", "and", "discriminator", ".", "Unlike", "past", "work", ",", "for", "our", "generator", "we", "use", "a", "\u201c", "U", "-", "Net\u201d", "-", "based", "architecture", ",", "and", "for", "our", "discriminator", "we", "use", "a", "convolutional", "\u201c", "PatchGAN", "\u201d", "classifier", ",", "which", "only", "penalizes", "structure", "at", "the", "scale", "of", "image", "patches", ".", "A", "similar", "PatchGAN", "architecture", "was", "previously", "proposed", "in", "to", "capture", "local", "style", "statistics", ".", "Here", "we", "show", "that", "this", "approach", "is", "effective", "on", "a", "wider", "range", "of", "problems", ",", "and", "we", "investigate", "the", "effect", "of", "changing", "the", "patch", "size", ".", "section", ":", "Method", "GANs", "are", "generative", "models", "that", "learn", "a", "mapping", "from", "random", "noise", "vector", "to", "output", "image", ",", ".", "In", "contrast", ",", "conditional", "GANs", "learn", "a", "mapping", "from", "observed", "image", "and", "random", "noise", "vector", ",", "to", ",", ".", "The", "generator", "is", "trained", "to", "produce", "outputs", "that", "can", "not", "be", "distinguished", "from", "\u201c", "real", "\u201d", "images", "by", "an", "adversarially", "trained", "discriminator", ",", ",", "which", "is", "trained", "to", "do", "as", "well", "as", "possible", "at", "detecting", "the", "generator", "\u2019s", "\u201c", "fakes", "\u201d", ".", "This", "training", "procedure", "is", "diagrammed", "in", "Figure", "[", "reference", "]", ".", "subsection", ":", "Objective", "The", "objective", "of", "a", "conditional", "GAN", "can", "be", "expressed", "as", "where", "tries", "to", "minimize", "this", "objective", "against", "an", "adversarial", "that", "tries", "to", "maximize", "it", ",", "i.e.", ".", "To", "test", "the", "importance", "of", "conditioning", "the", "discriminator", ",", "we", "also", "compare", "to", "an", "unconditional", "variant", "in", "which", "the", "discriminator", "does", "not", "observe", ":", "Previous", "approaches", "have", "found", "it", "beneficial", "to", "mix", "the", "GAN", "objective", "with", "a", "more", "traditional", "loss", ",", "such", "as", "L2", "distance", ".", "The", "discriminator", "\u2019s", "job", "remains", "unchanged", ",", "but", "the", "generator", "is", "tasked", "to", "not", "only", "fool", "the", "discriminator", "but", "also", "to", "be", "near", "the", "ground", "truth", "output", "in", "an", "L2", "sense", ".", "We", "also", "explore", "this", "option", ",", "using", "L1", "distance", "rather", "than", "L2", "as", "L1", "encourages", "less", "blurring", ":", "Our", "final", "objective", "is", "Without", ",", "the", "net", "could", "still", "learn", "a", "mapping", "from", "to", ",", "but", "would", "produce", "deterministic", "outputs", ",", "and", "therefore", "fail", "to", "match", "any", "distribution", "other", "than", "a", "delta", "function", ".", "Past", "conditional", "GANs", "have", "acknowledged", "this", "and", "provided", "Gaussian", "noise", "as", "an", "input", "to", "the", "generator", ",", "in", "addition", "to", "(", "e.g.", ",", ")", ".", "In", "initial", "experiments", ",", "we", "did", "not", "find", "this", "strategy", "effective", "\u2013", "the", "generator", "simply", "learned", "to", "ignore", "the", "noise", "\u2013", "which", "is", "consistent", "with", "Mathieu", "et", "al", ".", ".", "Instead", ",", "for", "our", "final", "models", ",", "we", "provide", "noise", "only", "in", "the", "form", "of", "dropout", ",", "applied", "on", "several", "layers", "of", "our", "generator", "at", "both", "training", "and", "test", "time", ".", "Despite", "the", "dropout", "noise", ",", "we", "observe", "only", "minor", "stochasticity", "in", "the", "output", "of", "our", "nets", ".", "Designing", "conditional", "GANs", "that", "produce", "highly", "stochastic", "output", ",", "and", "thereby", "capture", "the", "full", "entropy", "of", "the", "conditional", "distributions", "they", "model", ",", "is", "an", "important", "question", "left", "open", "by", "the", "present", "work", ".", "subsection", ":", "Network", "architectures", "We", "adapt", "our", "generator", "and", "discriminator", "architectures", "from", "those", "in", ".", "Both", "generator", "and", "discriminator", "use", "modules", "of", "the", "form", "convolution", "-", "BatchNorm", "-", "ReLu", ".", "Details", "of", "the", "architecture", "are", "provided", "in", "the", "supplemental", "materials", "online", ",", "with", "key", "features", "discussed", "below", ".", "subsubsection", ":", "Generator", "with", "skips", "A", "defining", "feature", "of", "image", "-", "to", "-", "image", "translation", "problems", "is", "that", "they", "map", "a", "high", "resolution", "input", "grid", "to", "a", "high", "resolution", "output", "grid", ".", "In", "addition", ",", "for", "the", "problems", "we", "consider", ",", "the", "input", "and", "output", "differ", "in", "surface", "appearance", ",", "but", "both", "are", "renderings", "of", "the", "same", "underlying", "structure", ".", "Therefore", ",", "structure", "in", "the", "input", "is", "roughly", "aligned", "with", "structure", "in", "the", "output", ".", "We", "design", "the", "generator", "architecture", "around", "these", "considerations", ".", "Many", "previous", "solutions", "to", "problems", "in", "this", "area", "have", "used", "an", "encoder", "-", "decoder", "network", ".", "In", "such", "a", "network", ",", "the", "input", "is", "passed", "through", "a", "series", "of", "layers", "that", "progressively", "downsample", ",", "until", "a", "bottleneck", "layer", ",", "at", "which", "point", "the", "process", "is", "reversed", ".", "Such", "a", "network", "requires", "that", "all", "information", "flow", "pass", "through", "all", "the", "layers", ",", "including", "the", "bottleneck", ".", "For", "many", "image", "translation", "problems", ",", "there", "is", "a", "great", "deal", "of", "low", "-", "level", "information", "shared", "between", "the", "input", "and", "output", ",", "and", "it", "would", "be", "desirable", "to", "shuttle", "this", "information", "directly", "across", "the", "net", ".", "For", "example", ",", "in", "the", "case", "of", "image", "colorization", ",", "the", "input", "and", "output", "share", "the", "location", "of", "prominent", "edges", ".", "To", "give", "the", "generator", "a", "means", "to", "circumvent", "the", "bottleneck", "for", "information", "like", "this", ",", "we", "add", "skip", "connections", ",", "following", "the", "general", "shape", "of", "a", "\u201c", "U", "-", "Net", "\u201d", ".", "Specifically", ",", "we", "add", "skip", "connections", "between", "each", "layer", "and", "layer", ",", "where", "is", "the", "total", "number", "of", "layers", ".", "Each", "skip", "connection", "simply", "concatenates", "all", "channels", "at", "layer", "with", "those", "at", "layer", ".", "subsubsection", ":", "Markovian", "discriminator", "(", "PatchGAN", ")", "It", "is", "well", "known", "that", "the", "L2", "loss", "\u2013", "and", "L1", ",", "see", "Figure", "[", "reference", "]", "\u2013", "produces", "blurry", "results", "on", "image", "generation", "problems", ".", "Although", "these", "losses", "fail", "to", "encourage", "high", "-", "frequency", "crispness", ",", "in", "many", "cases", "they", "nonetheless", "accurately", "capture", "the", "low", "frequencies", ".", "For", "problems", "where", "this", "is", "the", "case", ",", "we", "do", "not", "need", "an", "entirely", "new", "framework", "to", "enforce", "correctness", "at", "the", "low", "frequencies", ".", "L1", "will", "already", "do", ".", "This", "motivates", "restricting", "the", "GAN", "discriminator", "to", "only", "model", "high", "-", "frequency", "structure", ",", "relying", "on", "an", "L1", "term", "to", "force", "low", "-", "frequency", "correctness", "(", "Eqn", ".", "[", "reference", "]", ")", ".", "In", "order", "to", "model", "high", "-", "frequencies", ",", "it", "is", "sufficient", "to", "restrict", "our", "attention", "to", "the", "structure", "in", "local", "image", "patches", ".", "Therefore", ",", "we", "design", "a", "discriminator", "architecture", "\u2013", "which", "we", "term", "a", "Patch", "GAN", "\u2013", "that", "only", "penalizes", "structure", "at", "the", "scale", "of", "patches", ".", "This", "discriminator", "tries", "to", "classify", "if", "each", "patch", "in", "an", "image", "is", "real", "or", "fake", ".", "We", "run", "this", "discriminator", "convolutionally", "across", "the", "image", ",", "averaging", "all", "responses", "to", "provide", "the", "ultimate", "output", "of", ".", "In", "Section", "[", "reference", "]", ",", "we", "demonstrate", "that", "can", "be", "much", "smaller", "than", "the", "full", "size", "of", "the", "image", "and", "still", "produce", "high", "quality", "results", ".", "This", "is", "advantageous", "because", "a", "smaller", "PatchGAN", "has", "fewer", "parameters", ",", "runs", "faster", ",", "and", "can", "be", "applied", "to", "arbitrarily", "large", "images", ".", "Such", "a", "discriminator", "effectively", "models", "the", "image", "as", "a", "Markov", "random", "field", ",", "assuming", "independence", "between", "pixels", "separated", "by", "more", "than", "a", "patch", "diameter", ".", "This", "connection", "was", "previously", "explored", "in", ",", "and", "is", "also", "the", "common", "assumption", "in", "models", "of", "texture", "and", "style", ".", "Therefore", ",", "our", "PatchGAN", "can", "be", "understood", "as", "a", "form", "of", "texture", "/", "style", "loss", ".", "subsection", ":", "Optimization", "and", "inference", "To", "optimize", "our", "networks", ",", "we", "follow", "the", "standard", "approach", "from", ":", "we", "alternate", "between", "one", "gradient", "descent", "step", "on", ",", "then", "one", "step", "on", ".", "As", "suggested", "in", "the", "original", "GAN", "paper", ",", "rather", "than", "training", "to", "minimize", ",", "we", "instead", "train", "to", "maximize", ".", "In", "addition", ",", "we", "divide", "the", "objective", "by", "while", "optimizing", ",", "which", "slows", "down", "the", "rate", "at", "which", "learns", "relative", "to", ".", "We", "use", "minibatch", "SGD", "and", "apply", "the", "Adam", "solver", ",", "with", "a", "learning", "rate", "of", ",", "and", "momentum", "parameters", ",", ".", "At", "inference", "time", ",", "we", "run", "the", "generator", "net", "in", "exactly", "the", "same", "manner", "as", "during", "the", "training", "phase", ".", "This", "differs", "from", "the", "usual", "protocol", "in", "that", "we", "apply", "dropout", "at", "test", "time", ",", "and", "we", "apply", "batch", "normalization", "using", "the", "statistics", "of", "the", "test", "batch", ",", "rather", "than", "aggregated", "statistics", "of", "the", "training", "batch", ".", "This", "approach", "to", "batch", "normalization", ",", "when", "the", "batch", "size", "is", "set", "to", "1", ",", "has", "been", "termed", "\u201c", "instance", "normalization", "\u201d", "and", "has", "been", "demonstrated", "to", "be", "effective", "at", "image", "generation", "tasks", ".", "In", "our", "experiments", ",", "we", "use", "batch", "sizes", "between", "1", "and", "10", "depending", "on", "the", "experiment", ".", "section", ":", "Experiments", "To", "explore", "the", "generality", "of", "conditional", "GANs", ",", "we", "test", "the", "method", "on", "a", "variety", "of", "tasks", "and", "datasets", ",", "including", "both", "graphics", "tasks", ",", "like", "photo", "generation", ",", "and", "vision", "tasks", ",", "like", "semantic", "segmentation", ":", "Semantic", "labels\u2194photo", ",", "trained", "on", "the", "Cityscapes", "dataset", ".", "Architectural", "labels\u2192photo", ",", "trained", "on", "CMP", "Facades", ".", "Map\u2194aerial", "photo", ",", "trained", "on", "data", "scraped", "from", "Google", "Maps", ".", "BW\u2192color", "photos", ",", "trained", "on", ".", "Edges\u2192photo", ",", "trained", "on", "data", "from", "and", ";", "binary", "edges", "generated", "using", "the", "HED", "edge", "detector", "plus", "postprocessing", ".", "Sketch\u2192photo", ":", "tests", "edges", "photo", "models", "on", "human", "-", "drawn", "sketches", "from", ".", "Day\u2192night", ",", "trained", "on", ".", "Thermal\u2192color", "photos", ",", "trained", "on", "data", "from", ".", "Photo", "with", "missing", "pixels\u2192inpainted", "photo", ",", "trained", "on", "Paris", "StreetView", "from", ".", "Details", "of", "training", "on", "each", "of", "these", "datasets", "are", "provided", "in", "the", "supplemental", "materials", "online", ".", "In", "all", "cases", ",", "the", "input", "and", "output", "are", "simply", "1", "-", "3", "channel", "images", ".", "Qualitative", "results", "are", "shown", "in", "Figures", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ",", "[", "reference", "]", ".", "Several", "failure", "cases", "are", "highlighted", "in", "Figure", "[", "reference", "]", ".", "More", "comprehensive", "results", "are", "available", "at", "https:", "//", "phillipi.github.io", "/", "pix2pix", "/", ".", "Data", "requirements", "and", "speed", "We", "note", "that", "decent", "results", "can", "often", "be", "obtained", "even", "on", "small", "datasets", ".", "Our", "facade", "training", "set", "consists", "of", "just", "400", "images", "(", "see", "results", "in", "Figure", "[", "reference", "]", ")", ",", "and", "the", "day", "to", "night", "training", "set", "consists", "of", "only", "91", "unique", "webcams", "(", "see", "results", "in", "Figure", "[", "reference", "]", ")", ".", "On", "datasets", "of", "this", "size", ",", "training", "can", "be", "very", "fast", ":", "for", "example", ",", "the", "results", "shown", "in", "Figure", "[", "reference", "]", "took", "less", "than", "two", "hours", "of", "training", "on", "a", "single", "Pascal", "Titan", "X", "GPU", ".", "At", "test", "time", ",", "all", "models", "run", "in", "well", "under", "a", "second", "on", "this", "GPU", ".", "subsection", ":", "Evaluation", "metrics", "Evaluating", "the", "quality", "of", "synthesized", "images", "is", "an", "open", "and", "difficult", "problem", ".", "Traditional", "metrics", "such", "as", "per", "-", "pixel", "mean", "-", "squared", "error", "do", "not", "assess", "joint", "statistics", "of", "the", "result", ",", "and", "therefore", "do", "not", "measure", "the", "very", "structure", "that", "structured", "losses", "aim", "to", "capture", ".", "To", "more", "holistically", "evaluate", "the", "visual", "quality", "of", "our", "results", ",", "we", "employ", "two", "tactics", ".", "First", ",", "we", "run", "\u201c", "real", "vs.", "fake", "\u201d", "perceptual", "studies", "on", "Amazon", "Mechanical", "Turk", "(", "AMT", ")", ".", "For", "graphics", "problems", "like", "colorization", "and", "photo", "generation", ",", "plausibility", "to", "a", "human", "observer", "is", "often", "the", "ultimate", "goal", ".", "Therefore", ",", "we", "test", "our", "map", "generation", ",", "aerial", "photo", "generation", ",", "and", "image", "colorization", "using", "this", "approach", ".", "Second", ",", "we", "measure", "whether", "or", "not", "our", "synthesized", "cityscapes", "are", "realistic", "enough", "that", "off", "-", "the", "-", "shelf", "recognition", "system", "can", "recognize", "the", "objects", "in", "them", ".", "This", "metric", "is", "similar", "to", "the", "\u201c", "inception", "score", "\u201d", "from", ",", "the", "object", "detection", "evaluation", "in", ",", "and", "the", "\u201c", "semantic", "interpretability", "\u201d", "measures", "in", "and", ".", "AMT", "perceptual", "studies", "For", "our", "AMT", "experiments", ",", "we", "followed", "the", "protocol", "from", ":", "Turkers", "were", "presented", "with", "a", "series", "of", "trials", "that", "pitted", "a", "\u201c", "real", "\u201d", "image", "against", "a", "\u201c", "fake", "\u201d", "image", "generated", "by", "our", "algorithm", ".", "On", "each", "trial", ",", "each", "image", "appeared", "for", "1", "second", ",", "after", "which", "the", "images", "disappeared", "and", "Turkers", "were", "given", "unlimited", "time", "to", "respond", "as", "to", "which", "was", "fake", ".", "The", "first", "10", "images", "of", "each", "session", "were", "practice", "and", "Turkers", "were", "given", "feedback", ".", "No", "feedback", "was", "provided", "on", "the", "40", "trials", "of", "the", "main", "experiment", ".", "Each", "session", "tested", "just", "one", "algorithm", "at", "a", "time", ",", "and", "Turkers", "were", "not", "allowed", "to", "complete", "more", "than", "one", "session", ".", "Turkers", "evaluated", "each", "algorithm", ".", "Unlike", ",", "we", "did", "not", "include", "vigilance", "trials", ".", "For", "our", "colorization", "experiments", ",", "the", "real", "and", "fake", "images", "were", "generated", "from", "the", "same", "grayscale", "input", ".", "For", "map", "aerial", "photo", ",", "the", "real", "and", "fake", "images", "were", "not", "generated", "from", "the", "same", "input", ",", "in", "order", "to", "make", "the", "task", "more", "difficult", "and", "avoid", "floor", "-", "level", "results", ".", "For", "map", "aerial", "photo", ",", "we", "trained", "on", "resolution", "images", ",", "but", "exploited", "fully", "-", "convolutional", "translation", "(", "described", "above", ")", "to", "test", "on", "images", ",", "which", "were", "then", "downsampled", "and", "presented", "to", "Turkers", "at", "resolution", ".", "For", "colorization", ",", "we", "trained", "and", "tested", "on", "resolution", "images", "and", "presented", "the", "results", "to", "Turkers", "at", "this", "same", "resolution", ".", "\u201c", "FCN", "-", "score", "\u201d", "While", "quantitative", "evaluation", "of", "generative", "models", "is", "known", "to", "be", "challenging", ",", "recent", "works", "have", "tried", "using", "pre", "-", "trained", "semantic", "classifiers", "to", "measure", "the", "discriminability", "of", "the", "generated", "stimuli", "as", "a", "pseudo", "-", "metric", ".", "The", "intuition", "is", "that", "if", "the", "generated", "images", "are", "realistic", ",", "classifiers", "trained", "on", "real", "images", "will", "be", "able", "to", "classify", "the", "synthesized", "image", "correctly", "as", "well", ".", "To", "this", "end", ",", "we", "adopt", "the", "popular", "FCN", "-", "8s", "architecture", "for", "semantic", "segmentation", ",", "and", "train", "it", "on", "the", "cityscapes", "dataset", ".", "We", "then", "score", "synthesized", "photos", "by", "the", "classification", "accuracy", "against", "the", "labels", "these", "photos", "were", "synthesized", "from", ".", "subsection", ":", "Analysis", "of", "the", "objective", "function", "Which", "components", "of", "the", "objective", "in", "Eqn", ".", "[", "reference", "]", "are", "important", "?", "We", "run", "ablation", "studies", "to", "isolate", "the", "effect", "of", "the", "L1", "term", ",", "the", "GAN", "term", ",", "and", "to", "compare", "using", "a", "discriminator", "conditioned", "on", "the", "input", "(", "cGAN", ",", "Eqn", ".", "[", "reference", "]", ")", "against", "using", "an", "unconditional", "discriminator", "(", "GAN", ",", "Eqn", ".", "[", "reference", "]", ")", ".", "Figure", "[", "reference", "]", "shows", "the", "qualitative", "effects", "of", "these", "variations", "on", "two", "labels", "photo", "problems", ".", "L1", "alone", "leads", "to", "reasonable", "but", "blurry", "results", ".", "The", "cGAN", "alone", "(", "setting", "in", "Eqn", ".", "[", "reference", "]", ")", "gives", "much", "sharper", "results", "but", "introduces", "visual", "artifacts", "on", "certain", "applications", ".", "Adding", "both", "terms", "together", "(", "with", ")", "reduces", "these", "artifacts", ".", "We", "quantify", "these", "observations", "using", "the", "FCN", "-", "score", "on", "the", "cityscapes", "labels", "photo", "task", "(", "Table", "[", "reference", "]", ")", ":", "the", "GAN", "-", "based", "objectives", "achieve", "higher", "scores", ",", "indicating", "that", "the", "synthesized", "images", "include", "more", "recognizable", "structure", ".", "We", "also", "test", "the", "effect", "of", "removing", "conditioning", "from", "the", "discriminator", "(", "labeled", "as", "GAN", ")", ".", "In", "this", "case", ",", "the", "loss", "does", "not", "penalize", "mismatch", "between", "the", "input", "and", "output", ";", "it", "only", "cares", "that", "the", "output", "look", "realistic", ".", "This", "variant", "results", "in", "poor", "performance", ";", "examining", "the", "results", "reveals", "that", "the", "generator", "collapsed", "into", "producing", "nearly", "the", "exact", "same", "output", "regardless", "of", "input", "photograph", ".", "Clearly", ",", "it", "is", "important", ",", "in", "this", "case", ",", "that", "the", "loss", "measure", "the", "quality", "of", "the", "match", "between", "input", "and", "output", ",", "and", "indeed", "cGAN", "performs", "much", "better", "than", "GAN", ".", "Note", ",", "however", ",", "that", "adding", "an", "L1", "term", "also", "encourages", "that", "the", "output", "respect", "the", "input", ",", "since", "the", "L1", "loss", "penalizes", "the", "distance", "between", "ground", "truth", "outputs", ",", "which", "correctly", "match", "the", "input", ",", "and", "synthesized", "outputs", ",", "which", "may", "not", ".", "Correspondingly", ",", "L1", "+", "GAN", "is", "also", "effective", "at", "creating", "realistic", "renderings", "that", "respect", "the", "input", "label", "maps", ".", "Combining", "all", "terms", ",", "L1", "+", "cGAN", ",", "performs", "similarly", "well", ".", "Colorfulness", "A", "striking", "effect", "of", "conditional", "GANs", "is", "that", "they", "produce", "sharp", "images", ",", "hallucinating", "spatial", "structure", "even", "where", "it", "does", "not", "exist", "in", "the", "input", "label", "map", ".", "One", "might", "imagine", "cGANs", "have", "a", "similar", "effect", "on", "\u201c", "sharpening", "\u201d", "in", "the", "spectral", "dimension", "\u2013", "i.e.", "making", "images", "more", "colorful", ".", "Just", "as", "L1", "will", "incentivize", "a", "blur", "when", "it", "is", "uncertain", "where", "exactly", "to", "locate", "an", "edge", ",", "it", "will", "also", "incentivize", "an", "average", ",", "grayish", "color", "when", "it", "is", "uncertain", "which", "of", "several", "plausible", "color", "values", "a", "pixel", "should", "take", "on", ".", "Specially", ",", "L1", "will", "be", "minimized", "by", "choosing", "the", "median", "of", "the", "conditional", "probability", "density", "function", "over", "possible", "colors", ".", "An", "adversarial", "loss", ",", "on", "the", "other", "hand", ",", "can", "in", "principle", "become", "aware", "that", "grayish", "outputs", "are", "unrealistic", ",", "and", "encourage", "matching", "the", "true", "color", "distribution", ".", "In", "Figure", "[", "reference", "]", ",", "we", "investigate", "whether", "our", "cGANs", "actually", "achieve", "this", "effect", "on", "the", "Cityscapes", "dataset", ".", "The", "plots", "show", "the", "marginal", "distributions", "over", "output", "color", "values", "in", "Lab", "color", "space", ".", "The", "ground", "truth", "distributions", "are", "shown", "with", "a", "dotted", "line", ".", "It", "is", "apparent", "that", "L1", "leads", "to", "a", "narrower", "distribution", "than", "the", "ground", "truth", ",", "confirming", "the", "hypothesis", "that", "L1", "encourages", "average", ",", "grayish", "colors", ".", "Using", "a", "cGAN", ",", "on", "the", "other", "hand", ",", "pushes", "the", "output", "distribution", "closer", "to", "the", "ground", "truth", ".", "subsection", ":", "Analysis", "of", "the", "generator", "architecture", "A", "U", "-", "Net", "architecture", "allows", "low", "-", "level", "information", "to", "shortcut", "across", "the", "network", ".", "Does", "this", "lead", "to", "better", "results", "?", "Figure", "[", "reference", "]", "and", "Table", "[", "reference", "]", "compare", "the", "U", "-", "Net", "against", "an", "encoder", "-", "decoder", "on", "cityscape", "generation", ".", "The", "encoder", "-", "decoder", "is", "created", "simply", "by", "severing", "the", "skip", "connections", "in", "the", "U", "-", "Net", ".", "The", "encoder", "-", "decoder", "is", "unable", "to", "learn", "to", "generate", "realistic", "images", "in", "our", "experiments", ".", "The", "advantages", "of", "the", "U", "-", "Net", "appear", "not", "to", "be", "specific", "to", "conditional", "GANs", ":", "when", "both", "U", "-", "Net", "and", "encoder", "-", "decoder", "are", "trained", "with", "an", "L1", "loss", ",", "the", "U", "-", "Net", "again", "achieves", "the", "superior", "results", ".", "subsection", ":", "From", "PixelGANs", "to", "PatchGANs", "to", "ImageGANs", "We", "test", "the", "effect", "of", "varying", "the", "patch", "size", "of", "our", "discriminator", "receptive", "fields", ",", "from", "a", "\u201c", "PixelGAN", "\u201d", "to", "a", "full", "\u201c", "ImageGAN", "\u201d", ".", "Figure", "[", "reference", "]", "shows", "qualitative", "results", "of", "this", "analysis", "and", "Table", "[", "reference", "]", "quantifies", "the", "effects", "using", "the", "FCN", "-", "score", ".", "Note", "that", "elsewhere", "in", "this", "paper", ",", "unless", "specified", ",", "all", "experiments", "use", "PatchGANs", ",", "and", "for", "this", "section", "all", "experiments", "use", "an", "L1", "+", "cGAN", "loss", ".", "The", "PixelGAN", "has", "no", "effect", "on", "spatial", "sharpness", "but", "does", "increase", "the", "colorfulness", "of", "the", "results", "(", "quantified", "in", "Figure", "[", "reference", "]", ")", ".", "For", "example", ",", "the", "bus", "in", "Figure", "[", "reference", "]", "is", "painted", "gray", "when", "the", "net", "is", "trained", "with", "an", "L1", "loss", ",", "but", "becomes", "red", "with", "the", "PixelGAN", "loss", ".", "Color", "histogram", "matching", "is", "a", "common", "problem", "in", "image", "processing", ",", "and", "PixelGANs", "may", "be", "a", "promising", "lightweight", "solution", ".", "Using", "a", "PatchGAN", "is", "sufficient", "to", "promote", "sharp", "outputs", ",", "and", "achieves", "good", "FCN", "-", "scores", ",", "but", "also", "leads", "to", "tiling", "artifacts", ".", "The", "PatchGAN", "alleviates", "these", "artifacts", "and", "achieves", "slightly", "better", "scores", ".", "Scaling", "beyond", "this", ",", "to", "the", "full", "ImageGAN", ",", "does", "not", "appear", "to", "improve", "the", "visual", "quality", "of", "the", "results", ",", "and", "in", "fact", "gets", "a", "considerably", "lower", "FCN", "-", "score", "(", "Table", "[", "reference", "]", ")", ".", "This", "may", "be", "because", "the", "ImageGAN", "has", "many", "more", "parameters", "and", "greater", "depth", "than", "the", "PatchGAN", ",", "and", "may", "be", "harder", "to", "train", ".", "Fully", "-", "convolutional", "translation", "An", "advantage", "of", "the", "PatchGAN", "is", "that", "a", "fixed", "-", "size", "patch", "discriminator", "can", "be", "applied", "to", "arbitrarily", "large", "images", ".", "We", "may", "also", "apply", "the", "generator", "convolutionally", ",", "on", "larger", "images", "than", "those", "on", "which", "it", "was", "trained", ".", "We", "test", "this", "on", "the", "map", "aerial", "photo", "task", ".", "After", "training", "a", "generator", "on", "images", ",", "we", "test", "it", "on", "images", ".", "The", "results", "in", "Figure", "[", "reference", "]", "demonstrate", "the", "effectiveness", "of", "this", "approach", ".", "subsection", ":", "Perceptual", "validation", "We", "validate", "the", "perceptual", "realism", "of", "our", "results", "on", "the", "tasks", "of", "map", "aerial", "photograph", "and", "grayscale", "color", ".", "Results", "of", "our", "AMT", "experiment", "for", "map", "photo", "are", "given", "in", "Table", "[", "reference", "]", ".", "The", "aerial", "photos", "generated", "by", "our", "method", "fooled", "participants", "on", "of", "trials", ",", "significantly", "above", "the", "L1", "baseline", ",", "which", "produces", "blurry", "results", "and", "nearly", "never", "fooled", "participants", ".", "In", "contrast", ",", "in", "the", "photo", "map", "direction", "our", "method", "only", "fooled", "participants", "on", "%", "of", "trials", ",", "and", "this", "was", "not", "significantly", "different", "than", "the", "performance", "of", "the", "L1", "baseline", "(", "based", "on", "bootstrap", "test", ")", ".", "This", "may", "be", "because", "minor", "structural", "errors", "are", "more", "visible", "in", "maps", ",", "which", "have", "rigid", "geometry", ",", "than", "in", "aerial", "photographs", ",", "which", "are", "more", "chaotic", ".", "We", "trained", "colorization", "on", "ImageNet", ",", "and", "tested", "on", "the", "test", "split", "introduced", "by", ".", "Our", "method", ",", "with", "L1", "+", "cGAN", "loss", ",", "fooled", "participants", "on", "of", "trials", "(", "Table", "[", "reference", "]", ")", ".", "We", "also", "tested", "the", "results", "of", "and", "a", "variant", "of", "their", "method", "that", "used", "an", "L2", "loss", "(", "see", "for", "details", ")", ".", "The", "conditional", "GAN", "scored", "similarly", "to", "the", "L2", "variant", "of", "(", "difference", "insignificant", "by", "bootstrap", "test", ")", ",", "but", "fell", "short", "of", "\u2019s", "full", "method", ",", "which", "fooled", "participants", "on", "of", "trials", "in", "our", "experiment", ".", "We", "note", "that", "their", "method", "was", "specifically", "engineered", "to", "do", "well", "on", "colorization", ".", "subsection", ":", "Semantic", "segmentation", "Conditional", "GANs", "appear", "to", "be", "effective", "on", "problems", "where", "the", "output", "is", "highly", "detailed", "or", "photographic", ",", "as", "is", "common", "in", "image", "processing", "and", "graphics", "tasks", ".", "What", "about", "vision", "problems", ",", "like", "semantic", "segmentation", ",", "where", "the", "output", "is", "instead", "less", "complex", "than", "the", "input", "?", "To", "begin", "to", "test", "this", ",", "we", "train", "a", "cGAN", "(", "with", "/", "without", "L1", "loss", ")", "on", "cityscape", "photo", "labels", ".", "Figure", "[", "reference", "]", "shows", "qualitative", "results", ",", "and", "quantitative", "classification", "accuracies", "are", "reported", "in", "Table", "[", "reference", "]", ".", "Interestingly", ",", "cGANs", ",", "trained", "without", "the", "L1", "loss", ",", "are", "able", "to", "solve", "this", "problem", "at", "a", "reasonable", "degree", "of", "accuracy", ".", "To", "our", "knowledge", ",", "this", "is", "the", "first", "demonstration", "of", "GANs", "successfully", "generating", "\u201c", "labels", "\u201d", ",", "which", "are", "nearly", "discrete", ",", "rather", "than", "\u201c", "images", "\u201d", ",", "with", "their", "continuous", "-", "valued", "variation", ".", "Although", "cGANs", "achieve", "some", "success", ",", "they", "are", "far", "from", "the", "best", "available", "method", "for", "solving", "this", "problem", ":", "simply", "using", "L1", "regression", "gets", "better", "scores", "than", "using", "a", "cGAN", ",", "as", "shown", "in", "Table", "[", "reference", "]", ".", "We", "argue", "that", "for", "vision", "problems", ",", "the", "goal", "(", "i.e.", "predicting", "output", "close", "to", "the", "ground", "truth", ")", "may", "be", "less", "ambiguous", "than", "graphics", "tasks", ",", "and", "reconstruction", "losses", "like", "L1", "are", "mostly", "sufficient", ".", "subsection", ":", "Community", "-", "driven", "Research", "Since", "the", "initial", "release", "of", "the", "paper", "and", "our", "pix2pix", "codebase", ",", "the", "Twitter", "community", ",", "including", "computer", "vision", "and", "graphics", "practitioners", "as", "well", "as", "visual", "artists", ",", "have", "successfully", "applied", "our", "framework", "to", "a", "variety", "of", "novel", "image", "-", "to", "-", "image", "translation", "tasks", ",", "far", "beyond", "the", "scope", "of", "the", "original", "paper", ".", "Figure", "[", "reference", "]", "and", "Figure", "[", "reference", "]", "show", "just", "a", "few", "examples", "from", "the", "#", "pix2pix", "hashtag", ",", "including", "Background", "removal", ",", "Palette", "generation", ",", "Sketch", "\u2192", "Portrait", ",", "Sketch\u2192Pokemon", ",", "\u201d", "Do", "as", "I", "Do", "\u201d", "pose", "transfer", ",", "Learning", "to", "see", ":", "Gloomy", "Sunday", ",", "as", "well", "as", "the", "bizarrely", "popular", "#", "edges2cats", "and", "#", "fotogenerator", ".", "Note", "that", "these", "applications", "are", "creative", "projects", ",", "were", "not", "obtained", "in", "controlled", ",", "scientific", "conditions", ",", "and", "may", "rely", "on", "some", "modifications", "to", "the", "pix2pix", "code", "we", "released", ".", "Nonetheless", ",", "they", "demonstrate", "the", "promise", "of", "our", "approach", "as", "a", "generic", "commodity", "tool", "for", "image", "-", "to", "-", "image", "translation", "problems", ".", "section", ":", "Conclusion", "The", "results", "in", "this", "paper", "suggest", "that", "conditional", "adversarial", "networks", "are", "a", "promising", "approach", "for", "many", "image", "-", "to", "-", "image", "translation", "tasks", ",", "especially", "those", "involving", "highly", "structured", "graphical", "outputs", ".", "These", "networks", "learn", "a", "loss", "adapted", "to", "the", "task", "and", "data", "at", "hand", ",", "which", "makes", "them", "applicable", "in", "a", "wide", "variety", "of", "settings", ".", "paragraph", ":", "Acknowledgments", ":", "We", "thank", "Richard", "Zhang", ",", "Deepak", "Pathak", ",", "and", "Shubham", "Tulsiani", "for", "helpful", "discussions", ",", "Saining", "Xie", "for", "help", "with", "the", "HED", "edge", "detector", ",", "and", "the", "online", "community", "for", "exploring", "many", "applications", "and", "suggesting", "improvements", ".", "Thanks", "to", "Christopher", "Hesse", ",", "Memo", "Akten", ",", "Kaihu", "Chen", ",", "Jack", "Qiao", ",", "Mario", "Klingemann", ",", "Brannon", "Dorsey", ",", "Gerda", "Bosman", ",", "Ivy", "Tsai", ",", "and", "Yann", "LeCun", "for", "allowing", "the", "use", "of", "their", "creations", "in", "Figure", "[", "reference", "]", "and", "Figure", "[", "reference", "]", ".", "This", "work", "was", "supported", "in", "part", "by", "NSF", "SMA", "-", "1514512", ",", "NGA", "NURI", ",", "IARPA", "via", "Air", "Force", "Research", "Laboratory", ",", "Intel", "Corp", ",", "Berkeley", "Deep", "Drive", ",", "and", "hardware", "donations", "by", "Nvidia", ".", "J.", "-", "Y.Z.", "is", "supported", "by", "the", "Facebook", "Graduate", "Fellowship", ".", "Disclaimer", ":", "The", "views", "and", "conclusions", "contained", "herein", "are", "those", "of", "the", "authors", "and", "should", "not", "be", "interpreted", "as", "necessarily", "representing", "the", "official", "policies", "or", "endorsements", ",", "either", "expressed", "or", "implied", ",", "of", "IARPA", ",", "AFRL", "or", "the", "U.S.", "Government", ".", "bibliography", ":", "References", "section", ":", "Appendix", "subsection", ":", "Network", "architectures", "We", "adapt", "our", "network", "architectures", "from", "those", "in", ".", "Code", "for", "the", "models", "is", "available", "at", "https:", "//", "github.com", "/", "phillipi", "/", "pix2pix", ".", "Let", "Ck", "denote", "a", "Convolution", "-", "BatchNorm", "-", "ReLU", "layer", "with", "k", "filters", ".", "CDk", "denotes", "a", "Convolution", "-", "BatchNorm", "-", "Dropout", "-", "ReLU", "layer", "with", "a", "dropout", "rate", "of", ".", "All", "convolutions", "are", "spatial", "filters", "applied", "with", "stride", "2", ".", "Convolutions", "in", "the", "encoder", ",", "and", "in", "the", "discriminator", ",", "downsample", "by", "a", "factor", "of", "2", ",", "whereas", "in", "the", "decoder", "they", "upsample", "by", "a", "factor", "of", "2", ".", "subsubsection", ":", "Generator", "architectures", "The", "encoder", "-", "decoder", "architecture", "consists", "of", ":", "encoder", ":", "C64", "-", "C128", "-", "C256", "-", "C512", "-", "C512", "-", "C512", "-", "C512", "-", "C512", "decoder", ":", "CD512", "-", "CD512", "-", "CD512", "-", "C512", "-", "C256", "-", "C128", "-", "C64", "After", "the", "last", "layer", "in", "the", "decoder", ",", "a", "convolution", "is", "applied", "to", "map", "to", "the", "number", "of", "output", "channels", "(", "3", "in", "general", ",", "except", "in", "colorization", ",", "where", "it", "is", "2", ")", ",", "followed", "by", "a", "Tanh", "function", ".", "As", "an", "exception", "to", "the", "above", "notation", ",", "BatchNorm", "is", "not", "applied", "to", "the", "first", "C64", "layer", "in", "the", "encoder", ".", "All", "ReLUs", "in", "the", "encoder", "are", "leaky", ",", "with", "slope", "0.2", ",", "while", "ReLUs", "in", "the", "decoder", "are", "not", "leaky", ".", "The", "U", "-", "Net", "architecture", "is", "identical", "except", "with", "skip", "connections", "between", "each", "layer", "in", "the", "encoder", "and", "layer", "in", "the", "decoder", ",", "where", "is", "the", "total", "number", "of", "layers", ".", "The", "skip", "connections", "concatenate", "activations", "from", "layer", "to", "layer", ".", "This", "changes", "the", "number", "of", "channels", "in", "the", "decoder", ":", "U", "-", "Net", "decoder", ":", "CD512", "-", "CD1024", "-", "CD1024", "-", "C1024", "-", "C1024", "-", "C512", "-", "C256", "-", "C128", "subsubsection", ":", "Discriminator", "architectures", "The", "discriminator", "architecture", "is", ":", "C64", "-", "C128", "-", "C256", "-", "C512", "After", "the", "last", "layer", ",", "a", "convolution", "is", "applied", "to", "map", "to", "a", "1", "-", "dimensional", "output", ",", "followed", "by", "a", "Sigmoid", "function", ".", "As", "an", "exception", "to", "the", "above", "notation", ",", "BatchNorm", "is", "not", "applied", "to", "the", "first", "C64", "layer", ".", "All", "ReLUs", "are", "leaky", ",", "with", "slope", "0.2", ".", "All", "other", "discriminators", "follow", "the", "same", "basic", "architecture", ",", "with", "depth", "varied", "to", "modify", "the", "receptive", "field", "size", ":", "discriminator", ":", "C64", "-", "C128", "(", "note", ",", "in", "this", "special", "case", ",", "all", "convolutions", "are", "spatial", "filters", ")", "discriminator", ":", "C64", "-", "C128\u00d7286286", "discriminator", ":", "C64", "-", "C128", "-", "C256", "-", "C512", "-", "C512", "-", "C512", "subsection", ":", "Training", "details", "Random", "jitter", "was", "applied", "by", "resizing", "the", "input", "images", "to", "and", "then", "randomly", "cropping", "back", "to", "size", ".", "All", "networks", "were", "trained", "from", "scratch", ".", "Weights", "were", "initialized", "from", "a", "Gaussian", "distribution", "with", "mean", "0", "and", "standard", "deviation", "0.02", ".", "Cityscapes", "labels\u2192photo", "2975", "training", "images", "from", "the", "Cityscapes", "training", "set", ",", "trained", "for", "200", "epochs", ",", "with", "random", "jitter", "and", "mirroring", ".", "We", "used", "the", "Cityscapes", "validation", "set", "for", "testing", ".", "To", "compare", "the", "U", "-", "net", "against", "an", "encoder", "-", "decoder", ",", "we", "used", "a", "batch", "size", "of", "10", ",", "whereas", "for", "the", "objective", "function", "experiments", "we", "used", "batch", "size", "1", ".", "We", "find", "that", "batch", "size", "1", "produces", "better", "results", "for", "the", "U", "-", "net", ",", "but", "is", "inappropriate", "for", "the", "encoder", "-", "decoder", ".", "This", "is", "because", "we", "apply", "batchnorm", "on", "all", "layers", "of", "our", "network", ",", "and", "for", "batch", "size", "1", "this", "operation", "zeros", "the", "activations", "on", "the", "bottleneck", "layer", ".", "The", "U", "-", "net", "can", "skip", "over", "the", "bottleneck", ",", "but", "the", "encoder", "-", "decoder", "can", "not", ",", "and", "so", "the", "encoder", "-", "decoder", "requires", "a", "batch", "size", "greater", "than", "1", ".", "Note", ",", "an", "alternative", "strategy", "is", "to", "remove", "batchnorm", "from", "the", "bottleneck", "layer", ".", "See", "errata", "for", "more", "details", ".", "Architectural", "labels\u2192photo", "400", "training", "images", "from", ",", "trained", "for", "200", "epochs", ",", "batch", "size", "1", ",", "with", "random", "jitter", "and", "mirroring", ".", "Data", "were", "split", "into", "train", "and", "test", "randomly", ".", "Maps\u2194aerial", "photograph", "1096", "training", "images", "scraped", "from", "Google", "Maps", ",", "trained", "for", "200", "epochs", ",", "batch", "size", "1", ",", "with", "random", "jitter", "and", "mirroring", ".", "Images", "were", "sampled", "from", "in", "and", "around", "New", "York", "City", ".", "Data", "were", "then", "split", "into", "train", "and", "test", "about", "the", "median", "latitude", "of", "the", "sampling", "region", "(", "with", "a", "buffer", "region", "added", "to", "ensure", "that", "no", "training", "pixel", "appeared", "in", "the", "test", "set", ")", ".", "BW\u2192color", "1.2", "million", "training", "images", "(", "Imagenet", "training", "set", ")", ",", "trained", "for", "epochs", ",", "batch", "size", "4", ",", "with", "only", "mirroring", ",", "no", "random", "jitter", ".", "Tested", "on", "subset", "of", "Imagenet", "val", "set", ",", "following", "protocol", "of", "and", ".", "Edges\u2192shoes", "50k", "training", "images", "from", "UT", "Zappos50", "K", "dataset", "trained", "for", "15", "epochs", ",", "batch", "size", "4", ".", "Data", "were", "split", "into", "train", "and", "test", "randomly", ".", "Edges\u2192Handbag", "137", "K", "Amazon", "Handbag", "images", "from", ",", "trained", "for", "15", "epochs", ",", "batch", "size", "4", ".", "Data", "were", "split", "into", "train", "and", "test", "randomly", ".", "Day\u2192night", "17823", "training", "images", "extracted", "from", "91", "webcams", ",", "from", "trained", "for", "17", "epochs", ",", "batch", "size", "4", ",", "with", "random", "jitter", "and", "mirroring", ".", "We", "use", "91", "webcams", "as", "training", ",", "and", "10", "webcams", "for", "test", ".", "Thermal\u2192color", "photos", "36609", "training", "images", "from", "set", "00\u201305", "of", ",", "trained", "for", "10", "epochs", ",", "batch", "size", "4", ".", "Images", "from", "set", "06", "-", "11", "are", "used", "for", "testing", ".", "Photo", "with", "missing", "pixels\u2192inpainted", "photo", "14900", "training", "images", "from", ",", "trained", "for", "25", "epochs", ",", "batch", "size", "4", ",", "and", "tested", "on", "100", "held", "out", "images", "following", "the", "split", "of", ".", "subsection", ":", "Errata", "For", "all", "experiments", "reported", "in", "this", "paper", "with", "batch", "size", "1", ",", "the", "activations", "of", "the", "bottleneck", "layer", "are", "zeroed", "by", "the", "batchnorm", "operation", ",", "effectively", "making", "the", "innermost", "layer", "skipped", ".", "This", "issue", "can", "be", "fixed", "by", "removing", "batchnorm", "from", "this", "layer", ",", "as", "has", "been", "done", "in", "the", "public", "code", ".", "We", "observe", "little", "difference", "with", "this", "change", "and", "therefore", "leave", "the", "experiments", "as", "is", "in", "the", "paper", ".", "subsection", ":", "Change", "log", "arXiv", "v2", "Reran", "generator", "architecture", "comparisons", "(", "Section", "[", "reference", "]", ")", "with", "batch", "size", "equal", "to", "10", "rather", "than", "1", ",", "so", "that", "bottleneck", "layer", "is", "not", "zeroed", "(", "see", "Errata", ")", ".", "Reran", "FCN", "-", "scores", "with", "minor", "details", "cleaned", "up", "(", "results", "saved", "losslessly", "as", "pngs", ",", "removed", "unecessary", "downsampling", ")", ".", "FCN", "-", "scores", "computed", "using", "scripts", "at", "https:", "//", "github.com", "/", "phillipi", "/", "pix2pix", "/", "tree", "/", "master", "/", "scripts", "/", "eval_cityscapes", ",", "commit", "d7e7b8b", ".", "Updated", "several", "figures", "and", "text", ".", "Added", "additional", "results", "on", "thermal", "color", "photos", "and", "inpainting", ",", "as", "well", "as", "community", "contributions", ".", "arXiv", "v3", "Added", "additional", "results", "on", "community", "contributions", ".", "Fixed", "minor", "typos", "."]}