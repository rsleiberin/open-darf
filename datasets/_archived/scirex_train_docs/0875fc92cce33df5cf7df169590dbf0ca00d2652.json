{"coref": {"AttnGAN": [], "AttnGAN_OP": [], "Inception_score": [], "MS-COCO": [[52, 54], [487, 489], [489, 490], [2041, 2043], [2043, 2045], [2045, 2046], [2242, 2244], [3862, 3864], [4599, 4601], [4719, 4721], [4515, 4517]], "OP": [], "StackGAN": [], "StackGAN_OP": [], "Text-to-Image_Generation": [[2, 6], [65, 67], [350, 352], [1827, 1831], [2814, 2816], [4003, 4005], [4447, 4449], [4873, 4875], [810, 812], [1833, 1835], [1894, 1896], [2294, 2296], [3100, 3102], [3725, 3727], [4040, 4042], [4347, 4349]]}, "coref_non_salient": {"0": [[292, 294], [1058, 1060]], "1": [[394, 398], [741, 748]], "10": [[1800, 1802], [4571, 4572]], "100": [[1885, 1887]], "101": [[1160, 1162]], "102": [[3150, 3151]], "103": [[22, 28]], "104": [[268, 272]], "105": [[2624, 2626]], "106": [[141, 144]], "107": [[842, 844]], "108": [[986, 990]], "109": [[450, 453]], "11": [[3288, 3291], [3292, 3295], [3086, 3089], [3889, 3892]], "110": [[471, 476]], "111": [[3767, 3769]], "112": [[437, 440]], "113": [[1782, 1785]], "114": [[3869, 3874]], "115": [[1678, 1680]], "116": [[61, 64]], "117": [[588, 590]], "118": [[872, 876]], "119": [[447, 448]], "12": [[1880, 1882], [3326, 3330], [4897, 4899]], "13": [[708, 710], [1840, 1842]], "14": [[3501, 3504], [4782, 4785]], "15": [[1062, 1065], [1099, 1102]], "16": [[459, 461], [1169, 1171], [3946, 3948], [4070, 4072], [4682, 4684], [4800, 4802]], "17": [[1021, 1023], [1033, 1035]], "18": [[3318, 3320], [3411, 3412], [3850, 3851]], "19": [[3755, 3756], [3824, 3825], [3836, 3838], [3846, 3848]], "2": [[794, 795], [3335, 3338]], "20": [[976, 979], [1083, 1085], [1299, 1301], [1339, 1341]], "21": [[3301, 3304], [3080, 3083], [3900, 3903]], "22": [[1589, 1591], [1859, 1861], [3230, 3232], [3245, 3247]], "23": [[932, 934], [1303, 1305], [4634, 4636]], "24": [[716, 717], [726, 727]], "25": [[4739, 4740]], "26": [[4505, 4506]], "27": [[1362, 1364], [3958, 3960]], "28": [[611, 613], [3164, 3166]], "29": [[2629, 2634]], "3": [[695, 699], [3305, 3307]], "30": [[3312, 3316], [3434, 3438]], "31": [[4537, 4541]], "32": [[4787, 4796]], "33": [[757, 760], [3993, 3996]], "34": [[3297, 3300]], "35": [[442, 446], [856, 860]], "36": [[135, 138], [576, 579]], "37": [[1429, 1430], [1602, 1603]], "38": [[1184, 1186], [1224, 1226]], "39": [[68, 70], [3547, 3550], [3696, 3697]], "4": [[1003, 1004], [1377, 1379]], "40": [[4509, 4511], [4527, 4529], [4551, 4553]], "41": [[700, 701], [751, 752], [3083, 3084], [3089, 3090], [3892, 3893], [3903, 3904]], "42": [[3261, 3264], [3460, 3463]], "43": [[4586, 4589]], "44": [[1873, 1875], [4890, 4892]], "45": [[3667, 3669]], "46": [[3161, 3163]], "47": [[645, 648]], "48": [[3880, 3882]], "49": [[3953, 3956]], "5": [[765, 766], [3332, 3333], [4092, 4093], [4735, 4736]], "50": [[4648, 4650]], "51": [[1652, 1653]], "52": [[3978, 3980]], "53": [[998, 1000]], "54": [[761, 764]], "55": [[399, 400], [1078, 1080], [1153, 1155]], "56": [[278, 280], [362, 364], [2097, 2099]], "57": [[2783, 2786]], "58": [[1416, 1418], [3658, 3660]], "59": [[1866, 1869]], "6": [[3430, 3432], [3483, 3485], [3840, 3842]], "60": [[776, 780]], "61": [[111, 113]], "62": [[1517, 1520]], "63": [[163, 166]], "64": [[372, 376]], "65": [[804, 805]], "66": [[3268, 3274]], "67": [[1918, 1921]], "68": [[347, 349]], "69": [[1478, 1481]], "7": [[1452, 1456], [1616, 1619]], "70": [[1907, 1909]], "71": [[3513, 3517]], "72": [[597, 599]], "73": [[1512, 1514]], "74": [[1593, 1596]], "75": [[800, 802], [4492, 4494]], "76": [[667, 668]], "77": [[592, 594]], "78": [[918, 924]], "79": [[333, 338]], "8": [[936, 939], [993, 995]], "80": [[130, 134]], "81": [[205, 208]], "82": [[1311, 1314], [1689, 1692]], "83": [[3556, 3558]], "84": [[1291, 1295]], "85": [[300, 302]], "86": [[14, 16], [212, 214], [253, 255], [614, 616], [632, 634], [772, 774], [1348, 1350], [2086, 2088], [2157, 2159], [3138, 3140], [3170, 3172], [3199, 3201], [3217, 3219], [3378, 3380], [3525, 3527], [3539, 3541], [3811, 3813]], "87": [[7, 8]], "88": [[2174, 2178]], "89": [[224, 225]], "9": [[4085, 4090], [4147, 4151], [465, 469]], "90": [[1750, 1754]], "91": [[382, 385]], "92": [[660, 661]], "93": [[114, 116]], "94": [[1104, 1108]], "95": [[639, 641]], "96": [[102, 106]], "97": [[3598, 3603]], "98": [[3751, 3754]], "99": [[821, 823]]}, "doc_id": "0875fc92cce33df5cf7df169590dbf0ca00d2652", "method_subrelations": {"AttnGAN_OP": [[[0, 7], "AttnGAN"], [[8, 10], "OP"]], "StackGAN_OP": [[[0, 8], "StackGAN"], [[9, 11], "OP"]]}, "n_ary_relations": [{"Material": "MS-COCO", "Method": "AttnGAN_OP", "Metric": "Inception_score", "Task": "Text-to-Image_Generation", "score": "24.76"}, {"Material": "MS-COCO", "Method": "StackGAN_OP", "Metric": "Inception_score", "Task": "Text-to-Image_Generation", "score": "12.12"}], "ner": [[2, 6, "Task"], [7, 8, "Method"], [14, 16, "Method"], [22, 28, "Task"], [52, 54, "Material"], [61, 64, "Method"], [65, 67, "Task"], [68, 70, "Task"], [102, 106, "Method"], [111, 113, "Task"], [114, 116, "Task"], [130, 134, "Method"], [135, 138, "Method"], [141, 144, "Method"], [163, 166, "Task"], [205, 208, "Task"], [212, 214, "Method"], [224, 225, "Metric"], [253, 255, "Method"], [268, 272, "Method"], [278, 280, "Task"], [292, 294, "Method"], [300, 302, "Method"], [333, 338, "Task"], [347, 349, "Task"], [350, 352, "Task"], [362, 364, "Task"], [372, 376, "Method"], [382, 385, "Method"], [394, 398, "Method"], [399, 400, "Method"], [437, 440, "Method"], [442, 446, "Method"], [447, 448, "Method"], [450, 453, "Method"], [459, 461, "Method"], [471, 476, "Method"], [487, 489, "Material"], [489, 490, "Material"], [576, 579, "Method"], [588, 590, "Task"], [592, 594, "Task"], [597, 599, "Task"], [611, 613, "Method"], [614, 616, "Method"], [632, 634, "Method"], [639, 641, "Method"], [645, 648, "Method"], [660, 661, "Task"], [667, 668, "Method"], [695, 699, "Method"], [700, 701, "Method"], [708, 710, "Method"], [716, 717, "Method"], [726, 727, "Method"], [741, 748, "Method"], [757, 760, "Method"], [761, 764, "Method"], [765, 766, "Method"], [772, 774, "Method"], [776, 780, "Method"], [794, 795, "Method"], [800, 802, "Method"], [804, 805, "Method"], [821, 823, "Method"], [842, 844, "Method"], [856, 860, "Method"], [872, 876, "Method"], [918, 924, "Method"], [932, 934, "Method"], [936, 939, "Method"], [976, 979, "Method"], [986, 990, "Method"], [993, 995, "Method"], [998, 1000, "Task"], [1003, 1004, "Method"], [1021, 1023, "Method"], [1033, 1035, "Method"], [1058, 1060, "Method"], [1062, 1065, "Method"], [1078, 1080, "Method"], [1083, 1085, "Method"], [1099, 1102, "Method"], [1104, 1108, "Method"], [1153, 1155, "Method"], [1160, 1162, "Method"], [1169, 1171, "Method"], [1184, 1186, "Method"], [1224, 1226, "Method"], [1291, 1295, "Method"], [1299, 1301, "Method"], [1303, 1305, "Method"], [1311, 1314, "Method"], [1339, 1341, "Method"], [1348, 1350, "Method"], [1362, 1364, "Method"], [1377, 1379, "Method"], [1416, 1418, "Method"], [1429, 1430, "Method"], [1452, 1456, "Method"], [1478, 1481, "Method"], [1512, 1514, "Method"], [1517, 1520, "Method"], [1589, 1591, "Method"], [1593, 1596, "Method"], [1602, 1603, "Method"], [1616, 1619, "Method"], [1652, 1653, "Task"], [1678, 1680, "Method"], [1689, 1692, "Method"], [1750, 1754, "Method"], [1782, 1785, "Method"], [1800, 1802, "Task"], [1827, 1831, "Task"], [1840, 1842, "Method"], [1859, 1861, "Method"], [1866, 1869, "Task"], [1873, 1875, "Method"], [1880, 1882, "Method"], [1885, 1887, "Method"], [1907, 1909, "Method"], [1918, 1921, "Method"], [2041, 2043, "Material"], [2043, 2045, "Material"], [2045, 2046, "Material"], [2086, 2088, "Method"], [2097, 2099, "Task"], [2157, 2159, "Method"], [2174, 2178, "Task"], [2242, 2244, "Material"], [2624, 2626, "Task"], [2629, 2634, "Task"], [2783, 2786, "Task"], [2814, 2816, "Task"], [3138, 3140, "Method"], [3150, 3151, "Task"], [3161, 3163, "Metric"], [3164, 3166, "Method"], [3170, 3172, "Method"], [3199, 3201, "Method"], [3217, 3219, "Method"], [3230, 3232, "Method"], [3245, 3247, "Method"], [3261, 3264, "Method"], [3268, 3274, "Metric"], [3288, 3291, "Method"], [3292, 3295, "Method"], [3297, 3300, "Method"], [3301, 3304, "Method"], [3305, 3307, "Method"], [3312, 3316, "Method"], [3318, 3320, "Method"], [3326, 3330, "Method"], [3332, 3333, "Method"], [3335, 3338, "Method"], [3378, 3380, "Method"], [3411, 3412, "Method"], [3430, 3432, "Method"], [3434, 3438, "Method"], [3460, 3463, "Method"], [3483, 3485, "Method"], [3501, 3504, "Metric"], [3513, 3517, "Metric"], [3525, 3527, "Method"], [3539, 3541, "Method"], [3547, 3550, "Task"], [3556, 3558, "Metric"], [3598, 3603, "Method"], [3658, 3660, "Method"], [3667, 3669, "Method"], [3696, 3697, "Task"], [3751, 3754, "Metric"], [3755, 3756, "Metric"], [3767, 3769, "Task"], [3811, 3813, "Method"], [3824, 3825, "Metric"], [3836, 3838, "Metric"], [3840, 3842, "Method"], [3846, 3848, "Metric"], [3850, 3851, "Method"], [3862, 3864, "Material"], [3869, 3874, "Method"], [3880, 3882, "Metric"], [3946, 3948, "Method"], [3953, 3956, "Method"], [3958, 3960, "Method"], [3978, 3980, "Method"], [3993, 3996, "Method"], [4003, 4005, "Task"], [4070, 4072, "Method"], [4085, 4090, "Method"], [4147, 4151, "Method"], [4447, 4449, "Task"], [4492, 4494, "Method"], [4505, 4506, "Method"], [4509, 4511, "Metric"], [4527, 4529, "Metric"], [4537, 4541, "Task"], [4551, 4553, "Metric"], [4571, 4572, "Task"], [4586, 4589, "Task"], [4599, 4601, "Material"], [4634, 4636, "Method"], [4648, 4650, "Method"], [4682, 4684, "Method"], [4719, 4721, "Material"], [4739, 4740, "Task"], [4782, 4785, "Metric"], [4787, 4796, "Metric"], [4800, 4802, "Method"], [4873, 4875, "Task"], [4890, 4892, "Method"], [4897, 4899, "Method"], [465, 469, "Method"], [751, 752, "Method"], [810, 812, "Task"], [1833, 1835, "Task"], [1894, 1896, "Task"], [2294, 2296, "Task"], [3080, 3083, "Method"], [3083, 3084, "Method"], [3086, 3089, "Method"], [3089, 3090, "Method"], [3100, 3102, "Task"], [3725, 3727, "Task"], [3889, 3892, "Method"], [3892, 3893, "Method"], [3900, 3903, "Method"], [3903, 3904, "Method"], [4040, 4042, "Task"], [4092, 4093, "Method"], [4347, 4349, "Task"], [4515, 4517, "Material"], [4735, 4736, "Method"]], "sections": [[0, 99], [99, 572], [572, 864], [864, 930], [930, 1056], [1056, 1560], [1560, 1825], [1825, 2036], [2036, 2039], [2039, 2172], [2172, 2781], [2781, 3130], [3130, 3935], [3935, 4210], [4210, 4213], [4213, 4472], [4472, 4479], [4479, 4772], [4772, 4860], [4860, 4988]], "sentences": [[0, 8], [8, 29], [29, 49], [49, 71], [71, 99], [99, 102], [102, 117], [117, 139], [139, 162], [162, 193], [193, 209], [209, 246], [246, 262], [262, 288], [288, 303], [303, 333], [333, 365], [365, 391], [391, 401], [401, 402], [402, 422], [422, 454], [454, 478], [478, 521], [521, 526], [526, 537], [537, 549], [549, 561], [561, 572], [572, 576], [576, 601], [601, 626], [626, 645], [645, 650], [650, 715], [715, 738], [738, 761], [761, 767], [767, 789], [789, 813], [813, 833], [833, 864], [864, 867], [867, 880], [880, 908], [908, 930], [930, 939], [939, 973], [973, 996], [996, 1008], [1008, 1020], [1020, 1043], [1043, 1056], [1056, 1065], [1065, 1094], [1094, 1098], [1098, 1129], [1129, 1150], [1150, 1190], [1190, 1227], [1227, 1247], [1247, 1266], [1266, 1297], [1297, 1365], [1365, 1370], [1370, 1390], [1390, 1419], [1419, 1441], [1441, 1446], [1446, 1477], [1477, 1536], [1536, 1560], [1560, 1563], [1563, 1586], [1586, 1634], [1634, 1649], [1649, 1696], [1696, 1701], [1701, 1733], [1733, 1742], [1742, 1755], [1755, 1765], [1765, 1786], [1786, 1803], [1803, 1819], [1819, 1825], [1825, 1831], [1831, 1850], [1850, 1901], [1901, 1933], [1933, 1948], [1948, 1960], [1960, 1972], [1972, 1984], [1984, 1996], [1996, 2007], [2007, 2018], [2018, 2027], [2027, 2036], [2036, 2039], [2039, 2043], [2043, 2064], [2064, 2091], [2091, 2114], [2114, 2129], [2129, 2160], [2160, 2172], [2172, 2178], [2178, 2225], [2225, 2265], [2265, 2286], [2286, 2289], [2289, 2312], [2312, 2336], [2336, 2364], [2364, 2397], [2397, 2431], [2431, 2438], [2438, 2475], [2475, 2512], [2512, 2540], [2540, 2543], [2543, 2546], [2546, 2599], [2599, 2620], [2620, 2647], [2647, 2666], [2666, 2677], [2677, 2702], [2702, 2711], [2711, 2723], [2723, 2743], [2743, 2755], [2755, 2768], [2768, 2781], [2781, 2786], [2786, 2808], [2808, 2841], [2841, 2867], [2867, 2873], [2873, 2879], [2879, 2909], [2909, 2941], [2941, 2971], [2971, 3011], [3011, 3025], [3025, 3039], [3039, 3056], [3056, 3073], [3073, 3079], [3079, 3085], [3085, 3091], [3091, 3103], [3103, 3130], [3130, 3136], [3136, 3158], [3158, 3190], [3190, 3220], [3220, 3258], [3258, 3282], [3282, 3317], [3317, 3349], [3349, 3352], [3352, 3356], [3356, 3385], [3385, 3386], [3386, 3399], [3399, 3446], [3446, 3464], [3464, 3486], [3486, 3536], [3536, 3551], [3551, 3610], [3610, 3672], [3672, 3699], [3699, 3722], [3722, 3770], [3770, 3794], [3794, 3826], [3826, 3852], [3852, 3853], [3853, 3856], [3856, 3874], [3874, 3875], [3875, 3876], [3876, 3877], [3877, 3878], [3878, 3880], [3880, 3889], [3889, 3898], [3898, 3914], [3914, 3916], [3916, 3926], [3926, 3930], [3930, 3935], [3935, 3938], [3938, 3975], [3975, 3987], [3987, 4036], [4036, 4068], [4068, 4103], [4103, 4131], [4131, 4165], [4165, 4167], [4167, 4179], [4179, 4183], [4183, 4210], [4210, 4213], [4213, 4221], [4221, 4238], [4238, 4255], [4255, 4264], [4264, 4286], [4286, 4300], [4300, 4317], [4317, 4318], [4318, 4333], [4333, 4346], [4346, 4362], [4362, 4390], [4390, 4419], [4419, 4450], [4450, 4472], [4472, 4479], [4479, 4482], [4482, 4500], [4500, 4513], [4513, 4526], [4526, 4535], [4535, 4560], [4560, 4573], [4573, 4590], [4590, 4608], [4608, 4624], [4624, 4639], [4639, 4653], [4653, 4662], [4662, 4672], [4672, 4677], [4677, 4692], [4692, 4698], [4698, 4701], [4701, 4705], [4705, 4721], [4721, 4734], [4734, 4758], [4758, 4765], [4765, 4772], [4772, 4775], [4775, 4797], [4797, 4809], [4809, 4818], [4818, 4819], [4819, 4823], [4823, 4834], [4834, 4838], [4838, 4842], [4842, 4843], [4843, 4845], [4845, 4851], [4851, 4856], [4856, 4860], [4860, 4870], [4870, 4908], [4908, 4988]], "words": ["document", ":", "Generating", "Images", "from", "Captions", "with", "Attention", "Motivated", "by", "the", "recent", "progress", "in", "generative", "models", ",", "we", "introduce", "a", "model", "that", "generates", "images", "from", "natural", "language", "descriptions", ".", "The", "proposed", "model", "iteratively", "draws", "patches", "on", "a", "canvas", ",", "while", "attending", "to", "the", "relevant", "words", "in", "the", "description", ".", "After", "training", "on", "Microsoft", "COCO", ",", "we", "compare", "our", "model", "with", "several", "baseline", "generative", "models", "on", "image", "generation", "and", "retrieval", "tasks", ".", "We", "demonstrate", "that", "our", "model", "produces", "higher", "quality", "samples", "than", "other", "approaches", "and", "generates", "images", "with", "novel", "scene", "compositions", "corresponding", "to", "previously", "unseen", "captions", "in", "the", "dataset", ".", "section", ":", "Introduction", "Statistical", "natural", "image", "modelling", "remains", "a", "fundamental", "problem", "in", "computer", "vision", "and", "image", "understanding", ".", "The", "challenging", "nature", "of", "this", "task", "has", "motivated", "recent", "approaches", "to", "exploit", "the", "inference", "and", "generative", "capabilities", "of", "deep", "neural", "networks", ".", "Previously", "studied", "deep", "generative", "models", "of", "images", "often", "defined", "distributions", "that", "were", "restricted", "to", "being", "either", "unconditioned", "or", "conditioned", "on", "classification", "labels", ".", "In", "real", "world", "applications", ",", "however", ",", "images", "rarely", "appear", "in", "isolation", "as", "they", "are", "often", "accompanied", "by", "unstructured", "textual", "descriptions", ",", "such", "as", "on", "web", "pages", "and", "in", "books", ".", "The", "additional", "information", "from", "these", "descriptions", "could", "be", "used", "to", "simplify", "the", "image", "modelling", "task", ".", "Moreover", ",", "learning", "generative", "models", "conditioned", "on", "text", "also", "allows", "a", "better", "understanding", "of", "the", "generalization", "performance", "of", "the", "model", ",", "as", "we", "can", "create", "textual", "descriptions", "of", "completely", "new", "scenes", "not", "seen", "at", "training", "time", ".", "There", "are", "numerous", "ways", "to", "learn", "a", "generative", "model", "over", "both", "image", "and", "text", "modalities", ".", "One", "approach", "is", "to", "learn", "a", "generative", "model", "of", "text", "conditioned", "on", "images", ",", "known", "as", "caption", "generation", "kiros_icml14", ",", "karpathy_captions", ",", "vinyals_captions", ",", "xu_captions", ".", "These", "models", "take", "an", "image", "descriptor", "and", "generate", "unstructured", "texts", "using", "a", "recurrent", "decoder", ".", "In", "contrast", ",", "in", "this", "paper", "we", "explore", "models", "that", "condition", "in", "the", "opposite", "direction", ",", "i.e.", "taking", "textual", "descriptions", "as", "input", "and", "using", "them", "to", "generate", "relevant", "images", ".", "Generating", "high", "dimensional", "realistic", "images", "from", "their", "descriptions", "combines", "the", "two", "challenging", "components", "of", "language", "modelling", "and", "image", "generation", ",", "and", "can", "be", "considered", "to", "be", "more", "difficult", "than", "caption", "generation", ".", "In", "this", "paper", ",", "we", "illustrate", "how", "sequential", "deep", "learning", "techniques", "can", "be", "used", "to", "build", "a", "conditional", "probabilistic", "model", "over", "natural", "image", "space", "effectively", ".", "By", "extending", "the", "Deep", "Recurrent", "Attention", "Writer", "(", "DRAW", ")", "gregor_draw", ",", "our", "model", "iteratively", "draws", "patches", "on", "a", "canvas", ",", "while", "attending", "to", "the", "relevant", "words", "in", "the", "description", ".", "Overall", ",", "the", "main", "contributions", "of", "this", "work", "are", "the", "following", ":", "we", "introduce", "a", "conditional", "alignDRAW", "model", ",", "a", "generative", "model", "of", "images", "from", "captions", "using", "a", "soft", "attention", "mechanism", ".", "The", "images", "generated", "by", "our", "alignDRAW", "model", "are", "refined", "in", "a", "post", "-", "processing", "step", "by", "a", "deterministic", "Laplacian", "pyramid", "adversarial", "network", "denton_lapgan", ".", "We", "further", "illustrate", "how", "our", "method", ",", "learned", "on", "Microsoft", "COCO", "mscoco", ",", "generalizes", "to", "captions", "describing", "novel", "scenes", "that", "are", "not", "seen", "in", "the", "dataset", ",", "such", "as", "\u201c", "A", "stop", "sign", "is", "flying", "in", "blue", "skies", "\u201d", "(", "see", "Fig", ".", "[", "reference", "]", ")", ".", "[", "A", "stop", "sign", "is", "flying", "in", "blue", "skies", ".", "]", "[", "A", "herd", "of", "elephants", "flying", "in", "the", "blue", "skies", ".", "]", "[", "A", "toilet", "seat", "sits", "open", "in", "the", "grass", "field", ".", "]", "[", "A", "person", "skiing", "on", "sand", "clad", "vast", "desert", ".", "]", "section", ":", "Related", "Work", "Deep", "Neural", "Networks", "have", "achieved", "significant", "success", "in", "various", "tasks", "such", "as", "image", "recognition", "krizhevsky_imagenet", ",", "speech", "transcription", "graves_speech", ",", "and", "machine", "translation", "bahdanau_mt", ".", "While", "most", "of", "the", "recent", "success", "has", "been", "achieved", "by", "discriminative", "models", ",", "generative", "models", "have", "not", "yet", "enjoyed", "the", "same", "level", "of", "success", ".", "Most", "of", "the", "previous", "work", "in", "generative", "models", "has", "focused", "on", "variants", "of", "Boltzmann", "Machines", "smolensky_rbm", ",", "russ_dbm", "and", "Deep", "Belief", "Networks", "hinton_dbn", ".", "While", "these", "models", "are", "very", "powerful", ",", "each", "iteration", "of", "training", "requires", "a", "computationally", "costly", "step", "of", "MCMC", "to", "approximate", "derivatives", "of", "an", "intractable", "partition", "function", "(", "normalization", "constant", ")", ",", "making", "it", "difficult", "to", "scale", "them", "to", "large", "datasets", ".", ",", "have", "introduced", "the", "Variational", "Auto", "-", "Encoder", "(", "VAE", ")", "which", "can", "be", "seen", "as", "a", "neural", "network", "with", "continuous", "latent", "variables", ".", "The", "encoder", "is", "used", "to", "approximate", "a", "posterior", "distribution", "and", "the", "decoder", "is", "used", "to", "stochastically", "reconstruct", "the", "data", "from", "latent", "variables", ".", "further", "introduced", "the", "Deep", "Recurrent", "Attention", "Writer", "(", "DRAW", ")", ",", "extending", "the", "VAE", "approach", "by", "incorporating", "a", "novel", "differentiable", "attention", "mechanism", ".", "Generative", "Adversarial", "Networks", "(", "GANs", ")", "goodfellow_gan", "are", "another", "type", "of", "generative", "models", "that", "use", "noise", "-", "contrastive", "estimation", "gutmann_nce", "to", "avoid", "calculating", "an", "intractable", "partition", "function", ".", "The", "model", "consists", "of", "a", "generator", "that", "generates", "samples", "using", "a", "uniform", "distribution", "and", "a", "discriminator", "that", "discriminates", "between", "real", "and", "generated", "images", ".", "Recently", ",", "have", "scaled", "those", "models", "by", "training", "conditional", "GANs", "at", "each", "level", "of", "a", "Laplacian", "pyramid", "of", "images", ".", "While", "many", "of", "the", "previous", "approaches", "have", "focused", "on", "unconditional", "models", "or", "models", "conditioned", "on", "labels", ",", "in", "this", "paper", "we", "develop", "a", "generative", "model", "of", "images", "conditioned", "on", "captions", ".", "section", ":", "Model", "Our", "proposed", "model", "defines", "a", "generative", "process", "of", "images", "conditioned", "on", "captions", ".", "In", "particular", ",", "captions", "are", "represented", "as", "a", "sequence", "of", "consecutive", "words", "and", "images", "are", "represented", "as", "a", "sequence", "of", "patches", "drawn", "on", "a", "canvas", "over", "time", ".", "The", "model", "can", "be", "viewed", "as", "a", "part", "of", "the", "sequence", "-", "to", "-", "sequence", "framework", "ilya_mt", ",", "cho_mt", ",", "nitish_video", ".", "subsection", ":", "Language", "Model", ":", "the", "Bidirectional", "Attention", "RNN", "Let", "be", "the", "input", "caption", ",", "represented", "as", "a", "sequence", "of", "1", "-", "of", "-", "K", "encoded", "words", ",", "where", "is", "the", "size", "of", "the", "vocabulary", "and", "is", "the", "length", "of", "the", "sequence", ".", "We", "obtain", "the", "caption", "sentence", "representation", "by", "first", "transforming", "each", "word", "to", "an", "-", "dimensional", "vector", "representation", ",", "using", "the", "Bidirectional", "RNN", ".", "In", "a", "Bidirectional", "RNN", ",", "the", "two", "LSTMs", "hochreiter_lstm", "with", "forget", "gates", "gers_forget", "process", "the", "input", "sequence", "from", "both", "forward", "and", "backward", "directions", ".", "The", "Forward", "LSTM", "computes", "the", "sequence", "of", "forward", "hidden", "states", ",", "whereas", "the", "Backward", "LSTM", "computes", "the", "sequence", "of", "backward", "hidden", "states", ".", "These", "hidden", "states", "are", "then", "concatenated", "together", "into", "the", "sequence", ",", "with", ".", "subsection", ":", "Image", "Model", ":", "the", "Conditional", "DRAW", "Network", "To", "generate", "an", "image", "conditioned", "on", "the", "caption", "information", ",", "we", "extended", "the", "DRAW", "network", "gregor_draw", "to", "include", "caption", "representation", "at", "each", "step", ",", "as", "shown", "in", "Fig", ".", "[", "reference", "]", ".", "The", "conditional", "DRAW", "network", "is", "a", "stochastic", "recurrent", "neural", "network", "that", "consists", "of", "a", "sequence", "of", "latent", "variables", ",", ",", "where", "the", "output", "is", "accumulated", "over", "all", "time", "-", "steps", ".", "For", "simplicity", "in", "notation", ",", "the", "images", "are", "assumed", "to", "have", "size", "-", "by", "-", "and", "only", "one", "color", "channel", ".", "Unlike", "the", "original", "DRAW", "network", "where", "latent", "variables", "are", "independent", "spherical", "Gaussians", ",", "the", "latent", "variables", "in", "the", "proposed", "alignDRAW", "model", "have", "their", "mean", "and", "variance", "depend", "on", "the", "previous", "hidden", "states", "of", "the", "generative", "LSTM", ",", "except", "for", ".", "Namely", ",", "the", "mean", "and", "variance", "of", "the", "prior", "distribution", "over", "are", "parameterized", "by", ":", "where", ",", "are", "the", "learned", "model", "parameters", ",", "and", "is", "the", "dimensionality", "of", ",", "the", "hidden", "state", "of", "the", "generative", "LSTM", ".", "Similar", "to", "bachman_sdm", ",", "we", "have", "observed", "that", "the", "model", "performance", "is", "improved", "by", "including", "dependencies", "between", "latent", "variables", ".", "Formally", ",", "an", "image", "is", "generated", "by", "iteratively", "computing", "the", "following", "set", "of", "equations", "for", "(", "see", "Fig", ".", "[", "reference", "]", ")", ",", "with", "and", "initialized", "to", "learned", "biases", ":", "The", "function", "is", "used", "to", "compute", "the", "alignment", "between", "the", "input", "caption", "and", "intermediate", "image", "generative", "steps", "bahdanau_mt", ".", "Given", "the", "caption", "representation", "from", "the", "language", "model", ",", ",", "the", "operator", "outputs", "a", "dynamic", "sentence", "representation", "at", "each", "step", "through", "a", "weighted", "sum", "using", "alignment", "probabilities", ":", "The", "corresponding", "alignment", "probability", "for", "the", "word", "in", "the", "caption", "is", "obtained", "using", "the", "caption", "representation", "and", "the", "current", "hidden", "state", "of", "the", "generative", "model", ":", "where", ",", ",", "and", "are", "the", "learned", "model", "parameters", "of", "the", "alignment", "model", ".", "The", "function", "of", "Eq", ".", "[", "reference", "]", "is", "defined", "by", "the", "LSTM", "network", "with", "forget", "gates", "gers_forget", "at", "a", "single", "time", "-", "step", ".", "To", "generate", "the", "next", "hidden", "state", ",", "the", "takes", "the", "previous", "hidden", "state", "and", "combines", "it", "with", "the", "input", "from", "both", "the", "latent", "sample", "and", "the", "sentence", "representation", ".", "The", "output", "of", "the", "function", "is", "then", "passed", "through", "the", "operator", "which", "is", "added", "to", "a", "cumulative", "canvas", "matrix", "(", "Eq", ".", "[", "reference", "]", ")", ".", "The", "operator", "produces", "two", "arrays", "of", "1D", "Gaussian", "filter", "banks", "and", "whose", "filter", "locations", "and", "scales", "are", "computed", "from", "the", "generative", "LSTM", "hidden", "state", "(", "same", "as", "defined", "in", ")", ".", "The", "Gaussian", "filter", "banks", "are", "then", "applied", "to", "the", "generated", "-", "by", "-", "image", "patch", ",", "placing", "it", "onto", "the", "canvas", ":", "Finally", ",", "each", "entry", "from", "the", "final", "canvas", "matrix", "is", "transformed", "using", "a", "sigmoid", "function", "to", "produce", "a", "conditional", "Bernoulli", "distribution", "with", "mean", "vector", "over", "the", "image", "pixels", "given", "the", "latent", "variables", "and", "the", "input", "caption", ".", "In", "practice", ",", "when", "generating", "an", "image", ",", "instead", "of", "sampling", "from", "the", "conditional", "Bernoulli", "distribution", ",", "we", "simply", "use", "the", "conditional", "mean", ".", "subsection", ":", "Learning", "The", "model", "is", "trained", "to", "maximize", "a", "variational", "lower", "bound", "on", "the", "marginal", "likelihood", "of", "the", "correct", "image", "given", "the", "input", "caption", ":", "Similar", "to", "the", "DRAW", "model", ",", "the", "inference", "recurrent", "network", "produces", "an", "approximate", "posterior", "via", "a", "operator", ",", "which", "reads", "a", "patch", "from", "an", "input", "image", "using", "two", "arrays", "of", "1D", "Gaussian", "filters", "(", "inverse", "of", "from", "section", "[", "reference", "]", ")", "at", "each", "time", "-", "step", ".", "Specifically", ",", "where", "is", "the", "error", "image", "and", "is", "initialized", "to", "the", "learned", "bias", ".", "Note", "that", "the", "inference", "takes", "as", "its", "input", "both", "the", "output", "of", "the", "operator", ",", "which", "depends", "on", "the", "original", "input", "image", ",", "and", "the", "previous", "state", "of", "the", "generative", "decoder", ",", "which", "depends", "on", "the", "latent", "sample", "history", "and", "dynamic", "sentence", "representation", "(", "see", "Eq", ".", "[", "reference", "]", ")", ".", "Hence", ",", "the", "approximate", "posterior", "will", "depend", "on", "the", "input", "image", ",", "the", "corresponding", "caption", ",", "and", "the", "latent", "history", ",", "except", "for", "the", "first", "step", ",", "which", "depends", "only", "on", ".", "The", "terms", "in", "the", "variational", "lower", "bound", "Eq", ".", "[", "reference", "]", "can", "be", "rearranged", "using", "the", "law", "of", "total", "expectation", ".", "Therefore", ",", "the", "variational", "bound", "is", "calculated", "as", "follows", ":", "The", "expectation", "can", "be", "approximated", "by", "Monte", "Carlo", "samples", "from", ":", "The", "model", "can", "be", "trained", "using", "stochastic", "gradient", "descent", ".", "In", "all", "of", "our", "experiments", ",", "we", "used", "only", "a", "single", "sample", "from", "for", "parameter", "learning", ".", "Training", "details", ",", "hyperparameter", "settings", ",", "and", "the", "overall", "model", "architecture", "are", "specified", "in", "Appendix", "B.", "The", "code", "is", "available", "at", ".", "subsection", ":", "Generating", "Images", "from", "Captions", "During", "the", "image", "generation", "step", ",", "we", "discard", "the", "inference", "network", "and", "instead", "sample", "from", "the", "prior", "distribution", ".", "Due", "to", "the", "blurriness", "of", "samples", "generated", "by", "the", "DRAW", "model", ",", "we", "perform", "an", "additional", "post", "processing", "step", "where", "we", "use", "an", "adversarial", "network", "trained", "on", "residuals", "of", "a", "Laplacian", "pyramid", "conditioned", "on", "the", "skipthought", "representation", "kiros_skipthought", "of", "the", "captions", "to", "sharpen", "the", "generated", "images", ",", "similar", "to", "denton_lapgan", ".", "By", "fixing", "the", "prior", "of", "the", "adversarial", "generator", "to", "its", "mean", ",", "it", "gets", "treated", "as", "a", "deterministic", "neural", "network", "that", "allows", "us", "to", "define", "the", "conditional", "data", "term", "in", "Eq", ".", "[", "reference", "]", "on", "the", "sharpened", "images", "and", "estimate", "the", "variational", "lower", "bound", "accordingly", ".", "[", "A", "yellow", "school", "bus", "parked", "in", "a", "parking", "lot", ".", "]", "[", "A", "red", "school", "bus", "parked", "in", "a", "parking", "lot", ".", "]", "[", "A", "green", "school", "bus", "parked", "in", "a", "parking", "lot", ".", "]", "[", "A", "blue", "school", "bus", "parked", "in", "a", "parking", "lot", ".", "]", "[", "The", "decadent", "chocolate", "desert", "is", "on", "the", "table", ".", "]", "[", "A", "bowl", "of", "bananas", "is", "on", "the", "table", ".", "]", "[", "A", "vintage", "photo", "of", "a", "cat", ".", "]", "[", "A", "vintage", "photo", "of", "a", "dog", ".", "]", "section", ":", "Experiments", "subsection", ":", "Microsoft", "COCO", "Microsoft", "COCO", "mscoco", "is", "a", "large", "dataset", "containing", "82", ",", "783", "images", ",", "each", "annotated", "with", "at", "least", "5", "captions", ".", "The", "rich", "collection", "of", "images", "with", "a", "wide", "variety", "of", "styles", ",", "backgrounds", "and", "objects", "makes", "the", "task", "of", "learning", "a", "good", "generative", "model", "very", "challenging", ".", "For", "consistency", "with", "related", "work", "on", "caption", "generation", ",", "we", "used", "only", "the", "first", "five", "captions", "when", "training", "and", "evaluating", "our", "model", ".", "The", "images", "were", "resized", "to", "pixels", "for", "consistency", "with", "other", "tiny", "image", "datasets", "krizhevsky_cifar", ".", "In", "the", "following", "subsections", ",", "we", "analyzed", "both", "the", "qualitative", "and", "quantitative", "aspects", "of", "our", "model", "as", "well", "as", "compared", "its", "performance", "with", "that", "of", "other", ",", "related", "generative", "models", ".", "Appendix", "A", "further", "reports", "some", "additional", "experiments", "using", "the", "MNIST", "dataset", ".", "subsubsection", ":", "Analysis", "of", "Generated", "Images", "The", "main", "goal", "of", "this", "work", "is", "to", "learn", "a", "model", "that", "can", "understand", "the", "semantic", "meaning", "expressed", "in", "the", "textual", "descriptions", "of", "images", ",", "such", "as", "the", "properties", "of", "objects", ",", "the", "relationships", "between", "them", ",", "and", "then", "use", "that", "knowledge", "to", "generate", "relevant", "images", ".", "To", "examine", "the", "understanding", "of", "our", "model", ",", "we", "wrote", "a", "set", "of", "captions", "inspired", "by", "the", "COCO", "dataset", "and", "changed", "some", "words", "in", "the", "captions", "to", "see", "whether", "the", "model", "made", "the", "relevant", "changes", "in", "the", "generated", "samples", ".", "First", ",", "we", "explored", "whether", "the", "model", "understood", "one", "of", "the", "most", "basic", "properties", "of", "any", "object", ",", "the", "color", ".", "In", "Fig", ".", "[", "reference", "]", ",", "we", "generated", "images", "of", "school", "buses", "with", "four", "different", "colors", ":", "yellow", ",", "red", ",", "green", "and", "blue", ".", "Although", ",", "there", "are", "images", "of", "buses", "with", "different", "colors", "in", "the", "training", "set", ",", "all", "mentioned", "school", "buses", "are", "specifically", "colored", "yellow", ".", "Despite", "that", ",", "the", "model", "managed", "to", "generate", "images", "of", "an", "object", "that", "is", "visually", "reminiscent", "of", "a", "school", "bus", "that", "is", "painted", "with", "the", "specified", "color", ".", "Apart", "from", "changing", "the", "colors", "of", "objects", ",", "we", "next", "examined", "whether", "changing", "the", "background", "of", "the", "scene", "described", "in", "a", "caption", "would", "result", "in", "the", "appropriate", "changes", "in", "the", "generated", "samples", ".", "The", "task", "of", "changing", "the", "background", "of", "an", "image", "is", "somewhat", "harder", "than", "just", "changing", "the", "color", "of", "an", "object", "because", "the", "model", "will", "have", "to", "make", "alterations", "over", "a", "wider", "visual", "area", ".", "Nevertheless", ",", "as", "shown", "in", "Fig", ".", "[", "reference", "]", "changing", "the", "skies", "from", "blue", "to", "rainy", "in", "a", "caption", "as", "well", "as", "changing", "the", "grass", "type", "from", "dry", "to", "green", "in", "another", "caption", "resulted", "in", "the", "appropriate", "changes", "in", "the", "generated", "image", ".", "Despite", "a", "large", "number", "of", "ways", "of", "changing", "colors", "and", "backgrounds", "in", "descriptions", ",", "in", "general", "we", "found", "that", "the", "model", "made", "appropriate", "changes", "as", "long", "as", "some", "similar", "pattern", "was", "present", "in", "the", "training", "set", ".", "However", ",", "the", "model", "struggled", "when", "the", "visual", "difference", "between", "objects", "was", "very", "small", ",", "such", "as", "when", "the", "objects", "have", "the", "same", "general", "shape", "and", "color", ".", "In", "Fig", ".", "[", "reference", "]", ",", "we", "demonstrate", "that", "when", "we", "swap", "two", "objects", "that", "are", "both", "visually", "similar", ",", "for", "example", "cats", "and", "dogs", ",", "it", "is", "difficult", "to", "discriminate", "solely", "from", "the", "generated", "samples", "whether", "it", "is", "an", "image", "of", "a", "cat", "or", "dog", ",", "even", "though", "we", "might", "notice", "an", "animal", "-", "like", "shape", ".", "This", "highlights", "a", "limitation", "of", "the", "model", "in", "that", "it", "has", "difficulty", "modelling", "the", "fine", "-", "grained", "details", "of", "objects", ".", "As", "a", "test", "of", "model", "generalization", ",", "we", "tried", "generating", "images", "corresponding", "to", "captions", "that", "describe", "scenarios", "that", "are", "highly", "unlikely", "to", "occur", "in", "real", "life", ".", "These", "captions", "describe", "a", "common", "object", "doing", "unusual", "things", "or", "set", "in", "a", "strange", "location", ",", "for", "example", "\u201c", "A", "toilet", "seat", "sits", "open", "in", "the", "grass", "field", "\u201d", ".", "Even", "though", "some", "of", "these", "scenarios", "may", "never", "occur", "in", "real", "life", ",", "it", "is", "very", "easy", "for", "humans", "to", "imagine", "the", "corresponding", "scene", ".", "Nevertheless", ",", "as", "you", "can", "see", "in", "Fig", ".", "[", "reference", "]", ",", "the", "model", "managed", "to", "generate", "reasonable", "images", ".", "[", "]", "[", "]", "[", "]", "[", "]", "[", "A", "very", "large", "commercial", "plane", "flying", "in", "blue", "skies", ".", "]", "[", "A", "very", "large", "commercial", "plane", "flying", "in", "rainy", "skies", ".", "]", "[", "A", "herd", "of", "elephants", "walking", "across", "a", "dry", "grass", "field", ".", "]", "[", "A", "herd", "of", "elephants", "walking", "across", "a", "green", "grass", "field", ".", "]", "subsubsection", ":", "Analysis", "of", "Attention", "After", "flipping", "sets", "of", "words", "in", "the", "captions", ",", "we", "further", "explored", "which", "words", "the", "model", "attended", "to", "when", "generating", "images", ".", "It", "turned", "out", "that", "during", "the", "generation", "step", ",", "the", "model", "mostly", "focused", "on", "the", "specific", "words", "(", "or", "nearby", "words", ")", "that", "carried", "the", "main", "semantic", "meaning", "expressed", "in", "the", "sentences", ".", "The", "attention", "values", "of", "words", "in", "sentences", "helped", "us", "interpret", "the", "reasons", "why", "the", "model", "made", "the", "changes", "it", "did", "when", "we", "flipped", "certain", "words", ".", "For", "example", ",", "in", "Fig", ".", "[", "reference", "]", ",", "top", "row", ",", "we", "can", "see", "that", "when", "we", "flipped", "the", "word", "\u201c", "desert", "\u201d", "to", "\u201c", "forest", "\u201d", ",", "the", "attention", "over", "words", "in", "the", "sentence", "did", "not", "change", "drastically", ".", "This", "suggests", "that", ",", "in", "their", "respective", "sentences", ",", "the", "model", "looked", "at", "\u201c", "desert", "\u201d", "and", "\u201c", "forest", "\u201d", "with", "relatively", "equal", "probability", ",", "and", "thus", "made", "the", "correct", "changes", ".", "In", "contrast", ",", "when", "we", "swap", "words", "\u201c", "beach", "\u201d", "and", "\u201c", "sun", "\u201d", ",", "we", "can", "see", "a", "drastic", "change", "between", "sentences", "in", "the", "probability", "distribution", "over", "words", ".", "By", "noting", "that", "the", "model", "completely", "ignores", "the", "word", "\u201c", "sun", "\u201d", "in", "the", "second", "sentence", ",", "we", "can", "therefore", "gain", "a", "more", "thorough", "understanding", "of", "why", "we", "see", "no", "visual", "differences", "between", "the", "images", "generated", "by", "each", "caption", ".", "[", "3", "A", "rider", "1", "on", "a", "blue", "1", "motorcycle", "in", "the", ".", "]", "[", "3", "A", "rider", "1", "on", "a", "blue", "1", "motorcycle", "in", "the", ".", "]", "[", "2", "A", "1", "surfer", ",", "a", "woman", ",", "and", "a", "child", "walk", "on", "the", ".", "]", "[", "3", "A", "1", "surfer", ",", "a", "woman", ",", "and", "a", "child", "walk", "on", "the", ".", "]", "[", "alignDRAW", "]", "[", "LAPGAN", "]", "[", "Conv", "-", "Deconv", "VAE", "]", "[", "Fully", "-", "Conn", "VAE", "]", "We", "also", "tried", "to", "analyze", "the", "way", "the", "model", "generated", "images", ".", "Unfortunately", ",", "we", "found", "that", "there", "was", "no", "significant", "connection", "between", "the", "patches", "drawn", "on", "canvas", "and", "the", "most", "attended", "words", "at", "particular", "time", "-", "steps", ".", "subsubsection", ":", "Comparison", "With", "Other", "Models", "Quantitatively", "evaluating", "generative", "models", "remains", "a", "challenging", "task", "in", "itself", "as", "each", "method", "of", "evaluation", "suffers", "from", "its", "own", "specific", "drawbacks", ".", "Compared", "to", "reporting", "classification", "accuracies", "in", "discriminative", "models", ",", "the", "measures", "defining", "generative", "models", "are", "intractable", "most", "of", "the", "times", "and", "might", "not", "correctly", "define", "the", "real", "quality", "of", "the", "model", ".", "To", "get", "a", "better", "comparison", "between", "performances", "of", "different", "generative", "models", ",", "we", "report", "results", "on", "two", "different", "metrics", "as", "well", "as", "a", "qualitative", "comparison", "of", "different", "generative", "models", ".", "We", "compared", "the", "performance", "of", "the", "proposed", "model", "to", "the", "DRAW", "model", "conditioned", "on", "captions", "without", "the", "function", "(", "noalignDRAW", ")", "as", "well", "as", "the", "DRAW", "model", "conditioned", "on", "the", "skipthought", "vectors", "of", "kiros_skipthought", "(", "skipthoughtDRAW", ")", ".", "All", "of", "the", "conditional", "DRAW", "models", "were", "trained", "with", "a", "binary", "cross", "-", "entropy", "cost", "function", ",", "i.e.", "they", "had", "Bernoulli", "conditional", "likelihoods", ".", "We", "also", "compared", "our", "model", "with", "Fully", "-", "Connected", "(", "Fully", "-", "Conn", ")", "and", "Convolutional", "-", "Deconvolutional", "(", "Conv", "-", "Deconv", ")", "Variational", "Autoencoders", "which", "were", "trained", "with", "the", "least", "squares", "cost", "function", ".", "The", "LAPGAN", "model", "of", "denton_lapgan", "was", "trained", "on", "a", "two", "level", "Laplacian", "Pyramid", "with", "a", "GAN", "as", "a", "top", "layer", "generator", "and", "all", "stages", "were", "conditioned", "on", "the", "same", "skipthought", "vector", ".", "In", "Fig", ".", "[", "reference", "]", ",", "bottom", "row", ",", "we", "generated", "several", "samples", "from", "the", "prior", "of", "each", "of", "the", "current", "state", "-", "of", "-", "the", "-", "art", "generative", "models", ",", "conditioned", "on", "the", "caption", "\u201c", "A", "group", "of", "people", "walk", "on", "a", "beach", "with", "surf", "boards", "\u201d", ".", "While", "all", "of", "the", "samples", "look", "sharp", ",", "the", "images", "generated", "by", "LAPGAN", "look", "more", "noisy", "and", "it", "is", "harder", "to", "make", "out", "definite", "objects", ",", "whereas", "the", "images", "generated", "by", "variational", "models", "trained", "with", "least", "squares", "cost", "function", "have", "a", "watercolor", "effect", "on", "the", "images", ".", "We", "found", "that", "the", "quality", "of", "generated", "samples", "was", "similar", "among", "different", "variants", "of", "conditional", "DRAW", "models", ".", "As", "for", "the", "quantitative", "comparison", "of", "different", "models", ",", "we", "first", "compare", "the", "performances", "of", "the", "model", "trained", "with", "variational", "methods", ".", "We", "rank", "the", "images", "in", "the", "test", "set", "conditioned", "on", "the", "captions", "based", "on", "the", "variational", "lower", "bound", "of", "the", "log", "-", "probabilities", "and", "then", "report", "the", "Precision", "-", "Recall", "metric", "as", "an", "evaluation", "of", "the", "quality", "of", "the", "generative", "model", "(", "see", "Table", "[", "reference", "]", ".", ")", ".", "Perhaps", "unsurprisingly", ",", "generative", "models", "did", "not", "perform", "well", "on", "the", "image", "retrieval", "task", ".", "To", "deal", "with", "the", "large", "computational", "complexity", "involved", "in", "looping", "through", "each", "test", "image", ",", "we", "create", "a", "shortlist", "of", "one", "hundred", "images", "including", "the", "correct", "one", ",", "based", "on", "the", "images", "having", "the", "closest", "Euclidean", "distance", "in", "the", "last", "fully", "-", "connected", "feature", "space", "of", "a", "VGG", "-", "like", "model", "simonyan_convnet", "trained", "on", "the", "CIFAR", "dataset", "krizhevsky_cifar", ".", "Since", "there", "are", "\u201c", "easy", "\u201d", "images", "for", "which", "the", "model", "assigns", "high", "log", "-", "probabilities", "independent", "of", "the", "query", "caption", ",", "we", "instead", "look", "at", "the", "ratio", "of", "the", "likelihood", "of", "the", "image", "conditioned", "on", "the", "sentence", "to", "the", "likelihood", "of", "the", "image", "conditioned", "on", "the", "mean", "sentence", "representation", "in", "the", "training", "set", ",", "following", "the", "retrieval", "protocol", "of", "kiros_captions", ".", "We", "also", "found", "that", "the", "lower", "bound", "on", "the", "test", "log", "-", "probabilities", "decreased", "for", "sharpened", "images", ",", "and", "that", "sharpening", "considerably", "hurt", "the", "retrieval", "results", ".", "Since", "sharpening", "changes", "the", "statistics", "of", "images", ",", "the", "estimated", "log", "-", "probabilities", "of", "image", "pixels", "is", "not", "necessarily", "a", "good", "metric", ".", "Some", "examples", "of", "generated", "images", "before", "and", "after", "sharpening", "are", "shown", "in", "Appendix", "C.", "Instead", "of", "calculating", "error", "per", "pixel", ",", "we", "turn", "to", "a", "smarter", "metric", ",", "the", "Structural", "Similarity", "Index", "(", "SSI", ")", "wang_ssi", ",", "which", "incorporates", "luminance", "and", "contrast", "masking", "into", "the", "error", "calculation", ".", "Strong", "inter", "-", "dependencies", "of", "closer", "pixels", "are", "also", "taken", "into", "account", "and", "the", "metric", "is", "calculated", "on", "small", "windows", "of", "the", "images", ".", "Due", "to", "independence", "property", "of", "test", "captions", ",", "we", "sampled", "fifty", "images", "from", "the", "prior", "of", "each", "generative", "model", "for", "every", "caption", "in", "the", "test", "set", "in", "order", "to", "calculate", "SSI", ".", "As", "you", "can", "see", "on", "Table", "[", "reference", "]", ",", "SSI", "scores", "achieved", "by", "variational", "models", "were", "higher", "compared", "to", "SSI", "score", "achieved", "by", "LAPGAN", ".", "c", "\u2014\u2014", "c", "c", "c", "c", "c", "\u2014\u2014", "c", "c", "Microsoft", "COCO", "(", "prior", "to", "sharpening", ")", "Image", "Retrieval", "Image", "Similarity", "Model", "R@1", "R@5", "R@10", "R@50", "Med", "r", "SSI", "LAPGAN", "-", "-", "-", "-", "-", "0.08", "0.07", "Fully", "-", "Conn", "VAE", "1.0", "6.6", "12.0", "53.4", "47", "0.156", "0.10", "Conv", "-", "Deconv", "VAE", "1.0", "6.5", "12.0", "52.9", "48", "0.164", "0.10", "skipthoughtDRAW", "2.0", "11.2", "18.9", "63.3", "36", "0.157", "0.11", "noalignDRAW", "2.8", "14.1", "23.1", "68.0", "31", "0.155", "0.11", "alignDRAW", "3.0", "14.0", "22.9", "68.5", "31", "0.156", "0.11", "section", ":", "Discussion", "In", "this", "paper", ",", "we", "demonstrated", "that", "the", "alignDRAW", "model", ",", "a", "combination", "of", "a", "recurrent", "variational", "autoencoder", "with", "an", "alignment", "model", "over", "words", ",", "succeeded", "in", "generating", "images", "that", "correspond", "to", "a", "given", "input", "caption", ".", "By", "extensively", "using", "attentional", "mechanisms", ",", "our", "model", "gained", "several", "advantages", ".", "Namely", ",", "the", "use", "of", "the", "visual", "attention", "mechanism", "allowed", "us", "to", "decompose", "the", "problem", "of", "image", "generation", "into", "a", "series", "of", "steps", "instead", "of", "a", "single", "forward", "pass", ",", "while", "the", "attention", "over", "words", "provided", "us", "an", "insight", "whenever", "our", "model", "failed", "to", "generate", "a", "relevant", "image", ".", "Additionally", ",", "our", "model", "generated", "images", "corresponding", "to", "captions", "which", "generalized", "beyond", "the", "training", "set", ",", "such", "as", "sentences", "describing", "novel", "scenarios", "which", "are", "highly", "unlikely", "to", "occur", "in", "real", "life", ".", "Because", "the", "alignDRAW", "model", "tends", "to", "output", "slightly", "blurry", "samples", ",", "we", "augmented", "the", "model", "with", "a", "sharpening", "post", "-", "processing", "step", "in", "which", "GAN", "generated", "edges", "which", "were", "added", "to", "the", "alignDRAW", "samples", ".", "Unfortunately", ",", "this", "is", "not", "an", "ideal", "solution", "due", "to", "the", "fact", "that", "the", "whole", "model", "was", "not", "trained", "in", "an", "end", "-", "to", "-", "end", "fashion", ".", "Therefore", "a", "direction", "of", "future", "work", "would", "be", "to", "find", "methods", "that", "can", "bypass", "the", "separate", "post", "-", "processing", "step", "and", "output", "sharp", "images", "directly", "in", "an", "end", "-", "to", "-", "end", "manner", ".", "Acknowledgments", ":", "This", "work", "was", "supported", "by", "Samsung", "and", "IARPA", ",", "Raytheon", "BBN", "Contract", "No", ".", "D11PC20071", ".", "We", "would", "like", "to", "thank", "developers", "of", "Theano", "the", "authors", "of", "for", "open", "sourcing", "their", "code", ",", "and", "Ryan", "Kiros", "and", "Nitish", "Srivastava", "for", "helpful", "discussions", ".", "bibliography", ":", "References", "appendix", ":", "Appendix", "A", ":", "MNIST", "With", "Captions", "As", "an", "additional", "experiment", ",", "we", "trained", "our", "model", "on", "the", "MNIST", "dataset", "with", "artificial", "captions", ".", "Either", "one", "or", "two", "digits", "from", "the", "MNIST", "training", "dataset", "were", "placed", "on", "a", "blank", "image", ".", "One", "digit", "was", "placed", "in", "one", "of", "the", "four", "(", "top", "-", "left", ",", "top", "-", "right", ",", "bottom", "-", "left", "or", "bottom", "-", "right", ")", "corners", "of", "the", "image", ".", "Two", "digits", "were", "either", "placed", "horizontally", "or", "vertically", "in", "non", "-", "overlapping", "fashion", ".", "The", "corresponding", "artificial", "captions", "specified", "the", "identity", "of", "each", "digit", "along", "with", "their", "relative", "positions", ",", "e.g.", "\u201c", "The", "digit", "three", "is", "at", "the", "top", "of", "the", "digit", "one", "\u201d", ",", "or", "\u201c", "The", "digit", "seven", "is", "at", "the", "bottom", "left", "of", "the", "image", "\u201d", ".", "The", "generated", "images", "together", "with", "the", "attention", "alignments", "are", "displayed", "in", "Figure", "[", "reference", "]", ".", "The", "model", "correctly", "displayed", "the", "specified", "digits", "at", "the", "described", "positions", "and", "even", "managed", "to", "generalize", "reasonably", "well", "to", "the", "configurations", "that", "were", "never", "present", "during", "training", ".", "In", "the", "case", "of", "generating", "two", "digits", ",", "the", "model", "would", "dynamically", "attend", "to", "the", "digit", "in", "the", "caption", "it", "was", "drawing", "at", "that", "particular", "time", "-", "step", ".", "Similarly", ",", "in", "the", "setting", "where", "the", "caption", "specified", "only", "a", "single", "digit", ",", "the", "model", "would", "correctly", "attend", "to", "the", "digit", "in", "the", "caption", "during", "the", "whole", "generation", "process", ".", "In", "both", "cases", ",", "the", "model", "placed", "small", "attention", "values", "on", "the", "words", "describing", "the", "position", "of", "digits", "in", "the", "images", ".", "appendix", ":", "Appendix", "B", ":", "Training", "Details", "subsection", ":", "Hyperparameters", "Each", "parameter", "in", "alignDRAW", "was", "initialized", "by", "sampling", "from", "a", "Gaussian", "distribution", "with", "mean", "and", "standard", "deviation", ".", "The", "model", "was", "trained", "using", "RMSprop", "with", "an", "initial", "learning", "rate", "of", ".", "For", "the", "Microsoft", "COCO", "task", ",", "we", "trained", "our", "model", "for", "epochs", ".", "The", "learning", "rate", "was", "reduced", "to", "after", "epochs", ".", "For", "the", "MNIST", "with", "Captions", "task", ",", "the", "model", "was", "trained", "for", "150", "epochs", "and", "the", "learning", "rate", "was", "reduced", "to", "after", "110", "epochs", ".", "During", "each", "epoch", ",", "randomly", "created", "training", "samples", "were", "used", "for", "learning", ".", "The", "norm", "of", "the", "gradients", "was", "clipped", "at", "during", "training", "to", "avoid", "the", "exploding", "gradients", "problem", ".", "We", "used", "a", "vocabulary", "size", "of", "and", "for", "the", "Microsoft", "COCO", "and", "MNIST", "with", "Captions", "datasets", "respectively", ".", "All", "capital", "letters", "in", "the", "words", "were", "converted", "to", "small", "letters", "as", "a", "preprocessing", "step", ".", "For", "all", "tasks", ",", "the", "hidden", "states", "and", "in", "the", "language", "model", "had", "units", ".", "Hence", "the", "dimensionality", "of", "the", "concatenated", "state", "of", "the", "Bidirectional", "LSTM", "was", "256", ".", "The", "parameters", "in", "the", "align", "operator", "(", "Eq", ".", "[", "reference", "]", ")", "had", "a", "dimensionality", "of", ",", "so", "that", ",", ",", "and", ".", "The", "architectural", "configurations", "of", "the", "alignDRAW", "models", "are", "shown", "in", "Table", "[", "reference", "]", ".", "c", "\u2014", "c", "c", "c", "c", "c", "c", "alignDRAW", "Model", "Task", "#", "glimpses", "Inference", "Generative", "Latent", "Read", "Size", "Write", "Size", "T", "Dim", "of", "Dim", "of", "Dim", "of", "MS", "COCO", "32", "550", "550", "275", "9", "9", "MNIST", "32", "300", "300", "150", "8", "8", "The", "GAN", "model", "used", "for", "sharpening", "had", "the", "same", "configuration", "as", "the", "model", "trained", "by", "on", "the", "edge", "residuals", "of", "the", "CIFAR", "dataset", ".", "The", "configuration", "can", "be", "found", "at", ".", "The", "model", "was", "trained", "for", "epochs", ".", "subsection", ":", "Evaluation", "Table", "[", "reference", "]", "shows", "the", "estimated", "variational", "lower", "bounds", "on", "the", "average", "train", "/", "validation", "/", "test", "log", "-", "probabilities", ".", "Note", "that", "the", "alignDRAW", "model", "does", "not", "suffer", "much", "from", "overfitting", ".", "The", "results", "substantially", "worsen", "after", "sharpening", "test", "images", ".", "c", "\u2014", "c", "c", "c", "c", "Model", "Train", "Validation", "Test", "Test", "(", "after", "sharpening", ")", "skipthoughtDRAW", "-", "1794.29", "-", "1797.41", "-", "1791.37", "-", "2045.84", "noalignDRAW", "-", "1792.14", "-", "1796.94", "-", "1791.15", "-", "2051.07", "alignDRAW", "-", "1792.15", "-", "1797.24", "-", "1791.53", "-", "2042.31", "appendix", ":", "Appendix", "C", ":", "Effect", "of", "Sharpening", "Images", ".", "Some", "examples", "of", "generated", "images", "before", "(", "top", "row", ")", "and", "after", "(", "bottom", "row", ")", "sharpening", "images", "using", "an", "adversarial", "network", "trained", "on", "residuals", "of", "a", "Laplacian", "pyramid", "conditioned", "on", "the", "skipthought", "vectors", "of", "the", "captions", ".", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]", "[", "]"]}